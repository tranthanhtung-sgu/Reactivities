{"version":3,"sources":["app/api/agent.tsx","app/layout/models/activity.ts","app/layout/models/profile.ts","app/stores/activityStore.ts","app/layout/models/post.ts","app/stores/postStore.ts","app/stores/profileStore.ts","app/stores/userStore.ts","app/stores/store.ts","app/stores/commonStore.tsx","app/stores/modalStore.ts","app/stores/commentStore.ts","app/stores/commentStorePost.ts","app/layout/NavBar.tsx","app/common/form/MyTextInput.tsx","feature/users/LoginForm.tsx","feature/errors/ValidationError.tsx","feature/users/RegisterForm.tsx","feature/home/HomePage.tsx","app/layout/LoadingComponent.tsx","app/common/form/MyTextArea.tsx","app/common/form/MySelectInput.tsx","app/common/options/categoryOptions.ts","app/common/form/MyDateInput.tsx","feature/activities/form/ActivityForm.tsx","feature/activities/details/ActivitDetailedHeader.tsx","feature/activities/details/ActivityDetailedChat.tsx","feature/activities/details/ActivityDetailedInfo.tsx","feature/activities/details/ActivityDetailedSidebar.tsx","feature/activities/details/ActivityDetails.tsx","feature/errors/TestError.tsx","feature/errors/NotFound.tsx","feature/errors/ServerErrors.tsx","app/common/modals/ModalContainer.tsx","feature/profiles/ProfileHeader.tsx","app/common/imageUpload/PhotoWidgetCropper.tsx","app/common/imageUpload/PhotoWidgetDropzone.tsx","app/common/imageUpload/PhotoUploadWidget.tsx","feature/posts/Post.tsx","feature/profiles/ProfileMain.tsx","feature/profiles/Follow/ProfileFollowCard.tsx","feature/profiles/Follow/ProfileFollowList.tsx","feature/profiles/FollowTab.tsx","feature/profiles/ProfilePage.tsx","feature/posts/ImageDropzone.tsx","feature/posts/FormPost.tsx","feature/Facebook/Center.tsx","feature/Facebook/LeftSide.tsx","feature/Facebook/RightSide.tsx","feature/Facebook/Home.tsx","app/layout/PrivateRoute.tsx","app/layout/App.tsx","reportWebVitals.ts","app/layout/ScrollToTop.tsx","index.tsx"],"names":["sleep","delay","Promise","resolve","setTimeout","axios","defaults","baseURL","process","console","log","interceptors","request","use","config","token","store","commonStore","headers","Authorization","response","a","error","data","status","toast","method","errors","hasOwnProperty","history","push","modalStateErrors","key","flat","setServerError","reject","responseBody","url","get","then","body","post","put","delete","agent","Activities","list","detail","id","create","activity","update","del","attend","Account","current","login","user","register","Profile","username","uploadPhoto","file","formData","FormData","append","setMainPhoto","deletePhoto","updateFollowing","listFollowings","predicate","Posts","image","caption","Activity","init","Object","assign","this","ActivityFormValues","undefined","title","date","description","category","city","venue","displayName","ActivityStore","activityRegistry","Map","selectedActivity","editMode","loading","loadingInitial","loadActivities","activities","runInAction","forEach","setActivity","loadActivity","getActivity","setLoadingInitial","state","createActivity","userStore","attendance","newActivity","hostUsername","attendees","updateActivity","set","deleteActivity","updateAttend","isGoing","filter","attendee","cancelActivityToggle","isCancelled","clearSelectedActivity","updateFollowingAttendee","following","followersCount","makeAutoObservable","Array","from","values","sort","b","getTime","entries","activitiesByDate","reduce","format","some","isHost","host","find","x","Date","Post","PostStore","postRegistry","selectedPost","loadPosts","posts","setPost","loadPost","getPost","createPost","postForm","profileStore","profile","createdAt","comments","likes","URL","createObjectURL","modalStore","closeModal","window","location","reload","postsByDate","ProfileStore","loadingProfile","loadingUpload","followings","loadingFollowing","activeTab","setActiveTab","loadProfile","photo","photos","isMain","setImage","postStore","hostImage","p","activityStore","followingCount","loadFollowing","reaction","UserStore","creds","setToken","logout","localStorage","removeItem","getUser","getItem","appLoaded","setApploaded","setItem","modal","open","openModal","content","commentStore","hubConnection","createHubConnection","activityId","HubConnectionBuilder","withUrl","accessTokenFactory","withAutomaticReconnect","configureLogging","LogLevel","Information","build","start","catch","on","comment","stopHubConnection","stop","clearComments","addComment","invoke","commentStorePost","createHubConnectionPost","postId","splice","length","like","currentUser","newList","temp","isLike","react","stopHubConnectionPost","addLike","StoreContext","createContext","useStore","useContext","observer","Menu","inverted","fixed","Container","Item","as","NavLink","to","exact","header","src","alt","style","marginRight","name","position","Image","avatar","spaced","Dropdown","pointing","text","icon","onClick","MyTextInput","props","useField","field","meta","Form","Field","touched","label","Label","basic","color","initialValues","email","password","onSubmit","setErrors","handleSubmit","isSubmitting","className","autoComplete","Header","textAlign","placeholder","type","render","marginBottom","Button","positive","fluid","ValidationsError","Message","List","map","err","i","validationSchema","Yup","required","isValid","dirty","disabled","Segment","vertical","size","IsLoggedIn","Link","LoadingComponent","Dimmer","active","Loader","MyTextArea","MySelectInput","helpers","Select","clearable","options","value","onChange","e","d","setValue","onBlur","setTouched","categoryOptions","MyDateInput","heplers","selected","useParams","useHistory","useState","useEffect","clearing","enableReinitialize","uuid","handleFormSubmit","sub","rows","placeholderText","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","floated","activityImageStyle","activityImageTextStyle","bottom","left","width","height","Group","attached","padding","zIndex","top","ribbon","Content","border","Comment","Avatar","Author","Metadata","formatDistanceToNow","Text","whiteSpace","Actions","Action","resetForm","marginTop","onKeyPress","shiftKey","preventDefault","Grid","Column","Icon","verticalAlign","secondary","relaxed","divided","float","href","Extra","scrollTo","TestErrors","widths","baseUrl","primary","NotFound","Inline","messages","details","Modal","onClose","button","setButton","useRouteMatch","backgroundImage","boxShadow","fontSize","marginLeft","data-mdb-ripple-color","group","PhotoWidgetCropper","imagePreview","setCropper","initialAspectRatio","aspectRatio","preview","guides","viewMode","autoCropArea","background","onInitialized","cropper","PhotoWidgetDropzone","setFiles","dzStyles","borderColor","borderRadius","paddingTop","onDrop","useCallback","acceptedFiles","useDropzone","getRootProps","getInputProps","isDragActive","PhotoUploadWidget","files","revokeObjectURL","GridRow","minHeight","overflow","getCroppedCanvas","toBlob","blob","backgroundColor","textTransform","locale","vi","isCurrentUser","addPhotoMode","setAddPhotoMode","target","setTarget","Popup","trigger","currentTarget","handleSetMainPhoto","handleDeletePhoto","data-mdb-img","circular","Tab","Pane","panes","menuItem","menu","menuPosition","onTabChange","activeIndex","path","FollowTab","ImageDropzone","newPost","maxHeight","cols","paddingLeft","paddingRight","margin","backgroundSize","PrivateRoute","Component","component","rest","locaction","useLocation","finally","hideProgressBar","HomePage","ActivityDetails","ActivityForm","ServerErrors","LoginForm","ProfilePage","Home","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ScrollToTop","pathname","createBrowserHistory","ReactDOM","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.98842cb2.chunk.js","sourcesContent":["import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { history } from \"../..\";\nimport { Activity, ActivityFormValues } from \"../layout/models/activity\";\nimport { Post, PostFormValues } from \"../layout/models/post\";\nimport { Photo } from \"../layout/models/profile\";\nimport { User, UserFormValues } from \"../layout/models/user\";\nimport { store } from \"../stores/store\";\n\nconst sleep = (delay: number) => {\n  return new Promise((resolve) => {\n    setTimeout(resolve, delay);\n  });\n};\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\nconsole.log(process.env.REACT_APP_API_URL);\n\naxios.interceptors.request.use((config) => {\n  const token = store.commonStore.token;\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\naxios.interceptors.response.use(\n  async (response) => {\n    await sleep(500);\n    return response;\n  },\n  (error: AxiosError) => {\n    const { data, status, config } = error.response!;\n    switch (status) {\n      case 400:\n        if (typeof data === \"string\") {\n          toast.error(data);\n        }\n        if (config.method === \"get\" && data.errors.hasOwnProperty(\"id\")) {\n          history.push(\"/not-found\");\n        }\n        if (data.errors) {\n          const modalStateErrors = [];\n          for (const key in data.errors) {\n            if (data.errors[key]) {\n              modalStateErrors.push(data.errors[key]);\n            }\n          }\n          throw modalStateErrors.flat();\n        }\n        break;\n      case 401:\n        toast.error(\"Unauthorised\");\n        break;\n      case 404:\n        history.push(\"/not-found\");\n        break;\n      case 500:\n        store.commonStore.setServerError(data);\n        history.push(\"/server-error\");\n        break;\n    }\n    return Promise.reject(error);\n  }\n);\n\nconst responseBody = <T,>(response: AxiosResponse<T>) => response.data;\n\nconst request = {\n  get: <T,>(url: string) => axios.get<T>(url).then(responseBody),\n  post: <T,>(url: string, body: {}) => axios.post<T>(url, body).then(responseBody),\n  put: <T,>(url: string, body: {}) => axios.put<T>(url, body).then(responseBody),\n  del: <T,>(url: string) => axios.delete<T>(url).then(responseBody),\n};\n\nconst Activities = {\n  list: () => request.get<Activity[]>(\"/activities\"),\n  detail: (id: string) => request.get<Activity>(`/activities/${id}`),\n  create: (activity: ActivityFormValues) => request.post<void>(`/activities`, activity),\n  update: (activity: ActivityFormValues) => request.put<void>(`/activities/${activity.id}`, activity),\n  del: (id: string) => request.del<void>(`/activities/${id}`),\n  attend: (id: string) => request.post<void>(`/activities/${id}/attend`, id),\n};\n\nconst Account = {\n  current: () => request.get<User>(\"/account\"),\n  login: (user: UserFormValues) => request.post<User>(\"/account/login\", user),\n  register: (user: UserFormValues) => request.post<User>(\"/account/register\", user),\n};\n\nconst Profile = {\n  get: (username: string) => request.get<any>(`/profiles/${username}`),\n  uploadPhoto: (file: Blob) => {\n    let formData = new FormData();\n    formData.append(\"File\", file);\n    return axios.post<Photo>(\"photo\", formData, {\n      headers: {\n        \"Content-type\": \"multipart/form-data\",\n      },\n    });\n  },\n  setMainPhoto: (id: string) => request.post(`/photo/${id}/setmain`, {}),\n  deletePhoto: (id: string) => request.del(`/photo/${id}`),\n  updateFollowing: (username: string) => request.post(`/follow/${username}`, {}),\n  listFollowings: (username: string, predicate: string) =>\n    request.get<any[]>(`/follow/${username}?predicate=${predicate}`),\n};\n\nconst Posts = {\n  list: () => request.get<Post[]>(\"/post\"),\n  detail: (id: string) => request.get<Post>(`/post/${id}`),\n  create: (post: PostFormValues) => {\n    let formData = new FormData();\n    formData.append(\"Image\", post.image);\n    formData.append(\"Caption\", post.caption);\n    formData.append(\"Id\", post.id!);\n    return axios.post<Post>(\"post\", formData, {\n      headers: {\n        \"Content-type\": \"multipart/form-data\",\n      },\n    });\n  },\n  update: (post: PostFormValues) => request.put<void>(`/post/${post.id}`, post),\n  del: (id: string) => request.del<void>(`/post/${id}`),\n};\n\nconst agent = {\n  Activities,\n  Account,\n  Profile,\n  Posts,\n};\n\nexport default agent;\n","import { Profile } from \"./profile\";\n\nexport interface Activity {\n    id: string;\n    title: string;\n    date: Date | null;\n    description: string;\n    category: string;\n    city: string;\n    venue: string;\n    hostUsername?: string;\n    isCancelled?: boolean;\n    isGoing?: boolean;\n    isHost?: boolean;\n    host?: Profile;\n    attendees?: Profile[];\n}\n\nexport class Activity implements Activity {\n    constructor(init? : ActivityFormValues) {\n        Object.assign(this, init);\n    }\n}\n\nexport class ActivityFormValues {\n    id?: string = undefined;\n    title: string = '';\n    date: Date | null = null;\n    description: string = '';\n    category: string = '';\n    city: string = '';\n    venue: string = '';\n    \n    constructor(activity? : ActivityFormValues) {\n        if(activity) {\n            this.id = activity.id;\n            this.title = activity.title;\n            this.category = activity.category;\n            this.city = activity.city;\n            this.date = activity.date;\n            this.description = activity.description;\n            this.venue = activity.venue;    \n        }\n    }\n}","import { User } from \"./user\";\n\nexport interface Profile {\n  username: string;\n  displayName: string;\n  image?: string;\n  bio?: string;\n  following: boolean;\n  followersCount: number;\n  followingCount: number;\n  photos: Photo[];\n}\n\nexport class Profile implements Profile {\n  constructor(user: User) {\n    this.username = user.username;\n    this.image = user.image;\n    this.displayName = user.displayName;\n  }\n}\n\nexport interface Photo {\n  isMain: boolean;\n  url: string;\n  id: string;\n}\n","import { makeAutoObservable, runInAction } from \"mobx\";\nimport agent from \"../api/agent\";\nimport { Activity, ActivityFormValues } from \"../layout/models/activity\";\nimport { format } from \"date-fns\";\nimport { store } from \"./store\";\nimport { Profile } from \"../layout/models/profile\";\n\nexport default class ActivityStore {\n  activityRegistry = new Map<string, Activity>();\n  selectedActivity: Activity | undefined = undefined;\n  editMode = false;\n  loading = false;\n  loadingInitial = false;\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  get activitiesByDate() {\n    return Array.from(this.activityRegistry.values()).sort((a, b) => a.date!.getTime() - b.date!.getTime());\n  }\n\n  get groupedActivities() {\n    return Object.entries(\n      //reduce loc ra cac activity co cung date cho vao cung 1 activities[date]\n      this.activitiesByDate.reduce((activities, activity) => {\n        const date = format(activity.date!, \"dd MMM yyyy\");\n        activities[date] = activities[date] ? [...activities[date], activity] : [activity];\n        return activities;\n      }, {} as { [key: string]: Activity[] })\n    );\n  }\n\n  loadActivities = async () => {\n    this.loadingInitial = true;\n    try {\n      const activities = await agent.Activities.list();\n      runInAction(() => {\n        activities.forEach((activity) => {\n          this.setActivity(activity);\n        });\n        this.loadingInitial = false;\n      });\n    } catch (error) {\n      console.log(error);\n      runInAction(() => {\n        this.loadingInitial = false;\n      });\n    }\n  };\n\n  loadActivity = async (id: string) => {\n    let activity = this.getActivity(id);\n    if (activity) {\n      this.selectedActivity = activity;\n      return activity;\n    } else {\n      this.loadingInitial = true;\n      try {\n        activity = await agent.Activities.detail(id);\n        this.setActivity(activity);\n        runInAction(() => {\n          this.selectedActivity = activity;\n          this.loadingInitial = false;\n        });\n        return activity;\n      } catch (error) {\n        console.log(error);\n        runInAction(() => {\n          this.loadingInitial = false;\n        });\n      }\n    }\n  };\n\n  private getActivity(id: string) {\n    return this.activityRegistry.get(id);\n  }\n\n  setActivity(activity: Activity) {\n    const user = store.userStore.user;\n    if (user) {\n      //Check user hiện tại có tham gia không ??\n      activity.isGoing = activity.attendees?.some((a) => a.username === user.username);\n      // Check user hiện tại có phải là host ??\n      activity.isHost = activity.hostUsername === user.username;\n      // Tìm ra HOST bằng cách so tên trong danh sách tham gia và tên hostUsername\n      activity.host = activity.attendees?.find((x) => x.username === activity.hostUsername);\n    }\n    activity.date = new Date(activity.date!);\n    this.activityRegistry.set(activity.id, activity);\n  }\n\n  setLoadingInitial = (state: boolean) => {\n    this.loadingInitial = state;\n  };\n\n  createActivity = async (activity: ActivityFormValues) => {\n    const user = store.userStore.user;\n    const attendance = new Profile(user!);\n    try {\n      await agent.Activities.create(activity);\n      const newActivity = new Activity(activity);\n      newActivity.hostUsername = user?.username;\n      newActivity.attendees = [attendance];\n      this.setActivity(newActivity);\n      runInAction(() => {\n        this.selectedActivity = newActivity;\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  updateActivity = async (activity: ActivityFormValues) => {\n    try {\n      await agent.Activities.update(activity);\n      runInAction(() => {\n        if (activity.id) {\n          let updateActivity = { ...this.getActivity(activity.id), ...activity };\n          this.activityRegistry.set(activity.id, updateActivity as Activity);\n          this.selectedActivity = updateActivity as Activity;\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  deleteActivity = async (id: string) => {\n    this.loading = true;\n    try {\n      await agent.Activities.del(id);\n      this.activityRegistry.delete(id);\n      this.loading = false;\n    } catch (error) {\n      console.log(error);\n      this.loading = false;\n    }\n  };\n\n  updateAttend = async () => {\n    const user = store.userStore.user;\n    this.loading = true;\n    try {\n      await agent.Activities.attend(this.selectedActivity!.id);\n      runInAction(() => {\n        if (this.selectedActivity!.isGoing) {\n          this.selectedActivity!.attendees = this.selectedActivity!.attendees?.filter(\n            (a) => a.username !== user?.username\n          );\n          this.selectedActivity!.isGoing = false;\n        } else {\n          const attendee = new Profile(user!);\n          this.selectedActivity?.attendees?.push(attendee);\n          this.selectedActivity!.isGoing = true;\n        }\n        this.activityRegistry.set(this.selectedActivity!.id, this.selectedActivity!);\n      });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      runInAction(() => (this.loading = false));\n    }\n  };\n\n  cancelActivityToggle = async () => {\n    this.loading = true;\n    try {\n      await agent.Activities.attend(this.selectedActivity!.id);\n      runInAction(() => {\n        this.selectedActivity!.isCancelled = !this.selectedActivity!.isCancelled;\n        this.activityRegistry.set(this.selectedActivity!.id, this.selectedActivity!);\n      });\n    } catch (error) {\n      console.log(error);\n    } finally {\n      runInAction(() => {\n        this.loading = false;\n      });\n    }\n  };\n  clearSelectedActivity = () => {\n    this.selectedActivity = undefined;\n  };\n\n  updateFollowingAttendee = (username: string) => {\n    this.activityRegistry.forEach((activity) => {\n      activity.attendees?.forEach((attendee) => {\n        if (attendee.username === username) {\n          attendee.following ? attendee.followersCount-- : attendee.followersCount++;\n          attendee.following = !attendee.following;\n        }\n      });\n    });\n  };\n}\n","import { ChatComment } from \"./comment\";\nimport { Like } from \"./like\";\nexport interface Post {\n  id: string;\n  username: string;\n  displayName: string;\n  caption: string;\n  image: string;\n  createdAt: Date;\n  hostImage: string;\n  comments: ChatComment[];\n  likes: Like[];\n  isHost?: boolean;\n}\nexport class Post implements Post {\n  constructor(init?: PostFormValues) {\n    Object.assign(this, init);\n  }\n}\nexport class PostFormValues {\n  id?: string = undefined;\n  caption: string = \"\";\n  image: any = null;\n\n  constructor(post?: PostFormValues) {\n    if (post) {\n      this.id = post.id;\n      this.caption = post.caption;\n      this.image = post.image;\n    }\n  }\n}\n","import { format } from \"date-fns\";\nimport { makeAutoObservable, runInAction } from \"mobx\";\nimport { history } from \"../..\";\nimport agent from \"../api/agent\";\nimport { Post, PostFormValues } from \"../layout/models/post\";\nimport { store } from \"./store\";\n\nexport default class PostStore {\n  postRegistry = new Map<string, Post>();\n  selectedPost: Post | undefined = undefined;\n  editMode = false;\n  loading = false;\n  loadingInitial = true;\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  get postsByDate() {\n    return Array.from(this.postRegistry.values()).sort((a, b) => b.createdAt!.getTime() - a.createdAt!.getTime());\n  }\n\n  get groupedPost() {\n    return Object.entries(\n      //reduce loc ra cac activity co cung date cho vao cung 1 activities[date]\n      this.postsByDate.reduce((posts, post) => {\n        const date = format(post.createdAt!, \"dd MMM yyyy\");\n        posts[date] = posts[date] ? [...posts[date], post] : [post];\n        return posts;\n      }, {} as { [key: string]: Post[] })\n    );\n  }\n\n  loadPosts = async () => {\n    this.loadingInitial = true;\n    try {\n      const posts = await agent.Posts.list();\n      runInAction(() => {\n        posts.forEach((post) => {\n          this.setPost(post);\n        });\n        this.loadingInitial = false;\n      });\n    } catch (error) {\n      console.log(error);\n      runInAction(() => {\n        this.loadingInitial = false;\n      });\n    }\n  };\n\n  loadPost = async (id: string) => {\n    let post = this.getPost(id);\n    if (post) {\n      this.selectedPost = post;\n      return post;\n    } else {\n      this.loadingInitial = true;\n      try {\n        post = await agent.Posts.detail(id);\n        this.setPost(post);\n        runInAction(() => {\n          this.selectedPost = post;\n          this.loadingInitial = false;\n        });\n        return post;\n      } catch (error) {\n        console.log(error);\n        runInAction(() => {\n          this.loadingInitial = false;\n        });\n      }\n    }\n  };\n\n  private getPost(id: string) {\n    return this.postRegistry.get(id);\n  }\n\n  setPost(post: Post) {\n    const user = store.userStore.user;\n    if (user) {\n      // Check user hiện tại có phải là host ??\n      post.isHost = post.username === user.username;\n    }\n    post.createdAt = new Date(post.createdAt!);\n    this.postRegistry.set(post.id, post);\n  }\n  createPost = async (postForm: PostFormValues) => {\n    this.loading = true;\n    try {\n      if (\n        store.userStore.user?.username === store.profileStore.profile?.username ||\n        store.profileStore.profile == null\n      ) {\n        await agent.Posts.create(postForm).then((post) => {\n          console.log(post);\n        });\n        runInAction(() => {\n          const post = new Post(postForm);\n          post.username = store.userStore.user!.username;\n          post.createdAt = new Date();\n          post.displayName = store.userStore.user!.displayName;\n          post.isHost = true;\n          post.comments = [];\n          post.likes = [];\n          if (postForm !== null && postForm !== undefined && postForm.image) {\n            post.image = URL.createObjectURL(postForm.image);\n          }\n          this.setPost(post);\n        });\n        store.modalStore.closeModal();\n        window.location.reload();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\n","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\nimport agent from \"../api/agent\";\nimport { Photo, Profile } from \"../layout/models/profile\";\nimport { store } from \"./store\";\n\nexport default class ProfileStore {\n  profile: Profile | null = null;\n  loadingProfile: boolean = false;\n  loadingUpload = false;\n  loading = false;\n  followings: Profile[] = [];\n  loadingFollowing = false;\n  activeTab = 0;\n  constructor() {\n    makeAutoObservable(this);\n\n    reaction(\n      () => this.activeTab,\n      (activeTab) => {\n        if (activeTab === 1 || activeTab === 2) {\n          const predicate = activeTab === 1 ? \"following\" : \"followers\";\n          this.loadFollowing(predicate);\n        } else {\n          this.followings = [];\n        }\n      }\n    );\n  }\n\n  setActiveTab = (activeTab: any) => {\n    this.activeTab = activeTab;\n  };\n\n  get isCurrentUser() {\n    if (store.userStore.user?.username === this.profile?.username!) {\n      return store.userStore.user?.username === this.profile?.username!;\n    }\n    return false;\n  }\n\n  loadProfile = async (username: string) => {\n    this.loadingProfile = true;\n    try {\n      const profile = await agent.Profile.get(username);\n      runInAction(() => {\n        this.profile = profile;\n        this.loadingProfile = false;\n      });\n    } catch (error) {\n      console.log(error);\n      runInAction(() => {\n        this.loadingProfile = false;\n      });\n    }\n  };\n\n  uploadPhoto = async (file: Blob) => {\n    this.loadingUpload = true;\n    try {\n      const response = await agent.Profile.uploadPhoto(file);\n      const photo = response.data;\n      runInAction(() => {\n        if (this.profile) {\n          this.profile.photos.push(photo);\n          if (photo.isMain && store.userStore.user) {\n            store.userStore.setImage(photo.url);\n            this.profile.image = photo.url;\n          }\n        }\n        this.loadingUpload = false;\n      });\n    } catch (error) {\n      console.log(error);\n      runInAction(() => {\n        this.loadingUpload = false;\n      });\n    }\n  };\n\n  setMainPhoto = async (photo: Photo) => {\n    this.loading = true;\n    try {\n      await agent.Profile.setMainPhoto(photo.id);\n      store.userStore.setImage(photo.url);\n      runInAction(() => {\n        if (this.profile && this.profile.photos) {\n          this.profile.photos.find((x) => x.isMain)!.isMain = false;\n          this.profile.photos.find((x) => x.id === photo.id)!.isMain = true;\n          this.profile.image = photo.url;\n          store.postStore.postsByDate.forEach((post) => {\n            post.hostImage = photo.url;\n            store.postStore.setPost(post);\n          });\n          this.loading = false;\n        }\n        this.loading = false;\n      });\n    } catch (error) {\n      console.log(error);\n      runInAction(() => {\n        this.loading = false;\n      });\n    }\n  };\n\n  deletePhoto = async (photo: Photo) => {\n    this.loading = true;\n    try {\n      await agent.Profile.deletePhoto(photo.id);\n      runInAction(() => {\n        if (this.profile) {\n          this.profile.photos = this.profile.photos.filter((p) => p.id !== photo.id);\n          this.loading = false;\n        }\n        this.loading = false;\n      });\n    } catch (error) {\n      console.log(error);\n      runInAction(() => {\n        this.loading = false;\n      });\n    }\n  };\n  updateFollowing = async (username: string, following: boolean) => {\n    this.loading = true;\n    console.log(this.loading);\n\n    try {\n      await agent.Profile.updateFollowing(username);\n      runInAction(() => {\n        store.activityStore.updateFollowingAttendee(username);\n        if (\n          this.profile &&\n          this.profile?.username !== store.userStore.user?.username &&\n          this.profile.username === username\n        ) {\n          following ? this.profile.followersCount++ : this.profile.followersCount--;\n          this.profile.following = !this.profile.following;\n          console.log(this.loading);\n        }\n\n        if (this.profile && this.profile.username === store.userStore.user?.username) {\n          following ? this.profile.followingCount++ : this.profile.followingCount--;\n          this.profile.following = !this.profile.following;\n          console.log(this.loading);\n        }\n        this.followings.forEach((profile) => {\n          if (profile.username === username) {\n            profile.following ? profile.followersCount-- : profile.followersCount++;\n            profile.following = !profile.following;\n            console.log(this.loading);\n          }\n        });\n        this.loading = false;\n        console.log(this.loading);\n      });\n    } catch (error) {\n      console.log(error);\n      runInAction(() => {\n        this.loading = false;\n      });\n    }\n  };\n\n  loadFollowing = async (predicate: string) => {\n    this.loadingFollowing = true;\n    try {\n      const followings = await agent.Profile.listFollowings(this.profile!.username, predicate);\n      runInAction(() => {\n        console.log(followings);\n        this.followings = followings;\n        this.loadingFollowing = false;\n      });\n    } catch (error) {\n      console.log(error);\n      runInAction(() => {\n        this.loadingFollowing = false;\n      });\n    }\n  };\n}\n","import { makeAutoObservable, runInAction } from \"mobx\";\nimport { history } from \"../..\";\nimport agent from \"../api/agent\";\nimport { User, UserFormValues } from \"../layout/models/user\";\nimport { store } from \"./store\";\n\nexport default class UserStore {\n  user: User | null = null;\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  get IsLoggedIn() {\n    return !!this.user;\n  }\n\n  login = async (creds: UserFormValues) => {\n    try {\n      console.log(creds);\n      const user = await agent.Account.login(creds);\n      store.commonStore.setToken(user.token);\n      runInAction(() => {\n        this.user = user;\n      });\n      history.push(\"/home\");\n      window.location.reload();\n      store.modalStore.closeModal();\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  register = async (creds: UserFormValues) => {\n    try {\n      console.log(creds);\n      const user = await agent.Account.register(creds);\n      store.commonStore.setToken(user.token);\n      runInAction(() => {\n        this.user = user;\n      });\n      history.push(\"/home\");\n      window.location.reload();\n      store.modalStore.closeModal();\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  logout = () => {\n    store.commonStore.setToken(null);\n    window.localStorage.removeItem(\"jwt\");\n    this.user = null;\n    history.push(\"/\");\n  };\n\n  getUser = async () => {\n    try {\n      const user = await agent.Account.current();\n      runInAction(() => {\n        this.user = user;\n      });\n    } catch (error) {\n      throw error;\n    }\n  };\n  setImage(url: string) {\n    if (this.user) this.user.image = url;\n  }\n}\n","import { createContext, useContext } from \"react\";\nimport ActivityStore from \"./activityStore\";\nimport { CommentStore } from \"./commentStore\";\nimport { CommentStorePost } from \"./commentStorePost\";\nimport CommonStore from \"./commonStore\";\nimport ModalStore from \"./modalStore\";\nimport PostStore from \"./postStore\";\nimport ProfileStore from \"./profileStore\";\nimport UserStore from \"./userStore\";\n\ninterface Store {\n  activityStore: ActivityStore;\n  commonStore: CommonStore;\n  userStore: UserStore;\n  modalStore: ModalStore;\n  profileStore: ProfileStore;\n  commentStore: CommentStore;\n  postStore: PostStore;\n  commentStorePost: CommentStorePost;\n}\n\nexport const store: Store = {\n  activityStore: new ActivityStore(),\n  commonStore: new CommonStore(),\n  userStore: new UserStore(),\n  modalStore: new ModalStore(),\n  profileStore: new ProfileStore(),\n  commentStore: new CommentStore(),\n  postStore: new PostStore(),\n  commentStorePost: new CommentStorePost(),\n};\n\nexport const StoreContext = createContext(store);\n\nexport function useStore() {\n  return useContext(StoreContext);\n}\n","import { makeAutoObservable, reaction } from \"mobx\";\nimport { ServerError } from \"../layout/models/serverError\";\n\nexport default class CommonStore {\n    error: ServerError | null = null;\n    token: string | null = window.localStorage.getItem('jwt');\n    appLoaded = false;\n\n    constructor() {\n        makeAutoObservable(this);\n        reaction(\n            () => this.token,\n            token => {\n                if (token) {\n                    window.localStorage.setItem('jwt', token);\n                } else {\n                    window.localStorage.removeItem('jwt');\n                }\n            }\n        )\n    }\n\n    setServerError = (error: ServerError) => {\n        this.error = error;\n    }\n\n    setToken = (token: string | null) => {\n        this.token = token;\n    }\n\n    setApploaded = () => {\n        this.appLoaded = true;\n    }\n}","import { makeAutoObservable } from \"mobx\";\n\ninterface Modal {\n    open: boolean;\n    body: JSX.Element | null;\n}\n\nexport default class ModalStore {\n    modal: Modal = {\n        open: false,\n        body: null\n    }\n\n    constructor () {\n        makeAutoObservable(this);\n    }\n\n    openModal = (content: JSX.Element) => {\n        this.modal.open = true;\n        this.modal.body = content;\n    }\n\n    closeModal = () => {\n        this.modal.open = false;\n        this.modal.body = null;\n    }\n}","import { HubConnection, HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\nimport { makeAutoObservable, runInAction } from \"mobx\";\nimport { ChatComment } from \"../layout/models/comment\";\nimport { store } from \"./store\";\n\nexport class CommentStore {\n  comments: ChatComment[] = [];\n  hubConnection: HubConnection | null = null;\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  createHubConnection = (activityId: string) => {\n    if (store.activityStore.selectedActivity) {\n      this.hubConnection = new HubConnectionBuilder()\n        .withUrl(process.env.REACT_APP_CHAT_URL + \"?activityId=\" + activityId, {\n          accessTokenFactory: () => store.userStore.user?.token!,\n        })\n        .withAutomaticReconnect()\n        .configureLogging(LogLevel.Information)\n        .build();\n\n      this.hubConnection.start().catch((error) => {\n        console.log(\"Error establishing the connection: \", error);\n      });\n      this.hubConnection.on(\"LoadComments\", (comments: ChatComment[]) => {\n        runInAction(() => {\n          comments.forEach((comment) => {\n            comment.createdAt = new Date(comment.createdAt + \"Z\");\n          });\n          this.comments = comments;\n        });\n      });\n\n      this.hubConnection.on(\"ReciveComment\", (comment: ChatComment) => {\n        runInAction(() => {\n          comment.createdAt = new Date(comment.createdAt);\n          this.comments.push(comment);\n        });\n      });\n    }\n  };\n\n  stopHubConnection = () => {\n    this.hubConnection?.stop().catch((error) => {\n      console.log(\"Error stopping connection: \", error);\n    });\n  };\n\n  clearComments = () => {\n    this.comments = [];\n    this.stopHubConnection();\n  };\n\n  addComment = async (values: any) => {\n    values.activityId = store.activityStore.selectedActivity?.id;\n    try {\n      await this.hubConnection?.invoke(\"SendComment\", values);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\n","import { HubConnection, HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\nimport { makeAutoObservable, runInAction } from \"mobx\";\nimport { ChatComment } from \"../layout/models/comment\";\nimport { Like } from \"../layout/models/like\";\nimport { store } from \"./store\";\n\nexport class CommentStorePost {\n  comments: ChatComment[] = [];\n  hubConnection: HubConnection | null = null;\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  createHubConnectionPost = (postId: string) => {\n    if (store.postStore.postsByDate.find((x) => x.id === postId)) {\n      this.hubConnection = new HubConnectionBuilder()\n        .withUrl(process.env.REACT_APP_COMMENT_URL + \"?postId=\" + postId, {\n          accessTokenFactory: () => store.userStore.user?.token!,\n        })\n        .withAutomaticReconnect()\n        .build();\n      this.hubConnection.start().catch((error) => {\n        console.log(\"Error establishing the connection: \", error);\n      });\n      this.hubConnection.on(\"LoadCommentsPost\", (comments: ChatComment[]) => {\n        runInAction(() => {\n          const post = store.postStore.postRegistry.get(postId);\n          post?.comments.splice(0, post.comments.length);\n          comments.forEach((comment) => {\n            comment.createdAt = new Date(comment.createdAt + \"Z\");\n            post?.comments.push(comment);\n          });\n          store.postStore.postRegistry.set(postId, post!);\n        });\n      });\n      this.hubConnection.on(\"LoadLikesPost\", (likes: Like[]) => {\n        runInAction(() => {\n          console.log(likes);\n          const post = store.postStore.postRegistry.get(postId);\n          post?.likes.splice(0, post.likes.length);\n          likes.forEach((like) => {\n            post?.likes.push(like);\n          });\n          store.postStore.postRegistry.set(postId, post!);\n        });\n      });\n\n      this.hubConnection.on(\"ReciveLikePost\", () => {\n        runInAction(() => {\n          var post = store.postStore.postRegistry.get(postId);\n          var likes = post?.likes;\n          const currentUser = store.userStore.user;\n          const like = likes?.find((x) => x.username === currentUser?.username);\n          if (like !== undefined) {\n            const newList = post?.likes.filter((x) => x.username !== currentUser?.username);\n            post?.likes.splice(0, post.likes.length);\n            newList!.forEach((like) => {\n              post?.likes.push(like);\n            });\n            store.postStore.setPost(post!);\n          } else {\n            var temp: Like = {\n              username: currentUser?.username!,\n              displayName: currentUser?.displayName!,\n              image: currentUser?.image!,\n              isLike: true,\n              react: \"Like\",\n            };\n            post?.likes.push(temp);\n            store.postStore.postRegistry.set(postId, post!);\n            console.log(store.postStore.postRegistry.get(postId));\n          }\n        });\n      });\n      this.hubConnection.on(\"ReciveCommentPost\", (comment: ChatComment) => {\n        runInAction(() => {\n          comment.createdAt = new Date(comment.createdAt);\n          const post = store.postStore.postRegistry.get(postId);\n          post?.comments.push(comment);\n          store.postStore.setPost(post!);\n        });\n      });\n    }\n  };\n\n  stopHubConnectionPost = () => {\n    this.hubConnection?.stop().catch((error) => {\n      console.log(\"Error stopping connection: \", error);\n    });\n  };\n\n  clearComments = () => {\n    store.postStore.postRegistry.forEach((post) => {\n      post.likes.splice(0, post.likes.length);\n      post.comments.splice(0, post.comments.length);\n    });\n    this.stopHubConnectionPost();\n  };\n\n  addComment = async (values: any, id: string) => {\n    values.postId = id;\n    try {\n      await this.hubConnection?.invoke(\"SendCommentPost\", values);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  addLike = async (values: any, id: string) => {\n    try {\n      await this.hubConnection?.invoke(\"SendLikePost\", { postId: values });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { Button, Container, Dropdown, Image, Menu } from \"semantic-ui-react\";\nimport { useStore } from \"../stores/store\";\n\nexport default observer(function NavBar() {\n  const {\n    userStore: { user, logout },\n  } = useStore();\n  return (\n    <Menu inverted fixed=\"top\">\n      <Container>\n        <Menu.Item as={NavLink} to=\"/\" exact header>\n          <img src=\"/assets/logo.png\" alt=\"logo\" style={{ marginRight: \"10px\" }} />\n          Facebook\n        </Menu.Item>\n        {/* <Menu.Item as={NavLink} to=\"/activities\" name=\"Activities\" /> */}\n        <Menu.Item as={NavLink} to=\"/home\" name=\"Facebook\" />\n        {/* <Menu.Item as={NavLink} to=\"/errors\" name=\"Errors\" /> */}\n        {/* <Menu.Item>\n          <Button as={NavLink} to=\"/createActivity\" icon=\"plus\" positive content=\"Create Actitvity\" />\n        </Menu.Item> */}\n        <Menu.Item position=\"right\">\n          <Image src={user?.image || \"/assets/user.png\"} avatar spaced=\"right\" />\n          <Dropdown pointing=\"top left\" text={user?.displayName}>\n            <Dropdown.Menu>\n              <Dropdown.Item as={NavLink} to={`/profiles/${user?.username}`} text=\"Profile\" icon=\"user\" />\n              <Dropdown.Item onClick={() => logout()} text=\"Logout\" icon=\"power\" />\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Item>\n      </Container>\n    </Menu>\n  );\n});\n","import { useField } from 'formik';\nimport React from 'react';\nimport { Form, Label } from 'semantic-ui-react';\n\ninterface Props {\n    name: string;\n    placeholder: string;\n    label?: string;\n    type?: string;\n}\n\nexport default function MyTextInput(props: Props) {\n    const [field, meta] = useField(props.name);\n    return (\n        <Form.Field error={meta.touched && !!meta.error}>\n            <label>{props.label}</label>\n            <input {...field} {...props} />\n            {meta.touched && meta.error ? (\n                <Label basic color={'red'}  >{meta.error}</Label>\n            ) : null}\n        </Form.Field>\n    )\n}","import { ErrorMessage, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Button, Form, Header, Label } from \"semantic-ui-react\";\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\nimport { useStore } from \"../../app/stores/store\";\n\nexport default observer(function LoginForm() {\n  const { userStore } = useStore();\n  return (\n    <Formik\n      initialValues={{ email: \"\", password: \"\", error: null }}\n      onSubmit={(values, { setErrors }) =>\n        userStore.login(values).catch((error) => setErrors({ error: \"Invalid email or password\" }))\n      }\n    >\n      {({ handleSubmit, isSubmitting, errors }) => (\n        <Form className=\"ui form\" onSubmit={handleSubmit} autoComplete=\"off\">\n          <Header content=\"Login to Facebook\" as=\"h2\" color=\"teal\" textAlign=\"center\" />\n          <MyTextInput name=\"email\" placeholder=\"Email\" />\n          <MyTextInput name=\"password\" placeholder=\"Password\" type=\"password\" />\n          <ErrorMessage\n            name=\"error\"\n            render={() => <Label style={{ marginBottom: 10 }} basic color=\"red\" content={errors.error} />}\n          />\n          <Button loading={isSubmitting} content=\"Login\" type=\"submit\" positive fluid />\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","import React from 'react';\nimport { Message } from 'semantic-ui-react';\n\ninterface Props {\n    errors: any;\n}\n\nexport default function ValidationsError ({errors}: Props){ \n    return (\n        <Message error>\n            {errors && (\n                <Message.List>\n                    {errors.map((err: any, i: any) => (\n                        <Message.Item key={i}>{err}</Message.Item>\n                    ))}\n                </Message.List> \n            )}\n        </Message>\n    )\n}","import { ErrorMessage, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Button, Form, Header } from \"semantic-ui-react\";\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\nimport { useStore } from \"../../app/stores/store\";\nimport * as Yup from \"yup\";\nimport ValidationsError from \"../errors/ValidationError\";\n\nexport default observer(function RegisterForm() {\n  const { userStore } = useStore();\n  return (\n    <Formik\n      initialValues={{ displayName: \"\", username: \"\", email: \"\", password: \"\", error: null }}\n      onSubmit={(values, { setErrors }) =>\n        userStore.register(values).catch((error) => {\n          setErrors({ error }); \n          console.log(error);\n        })\n      }\n      validationSchema={Yup.object({\n        displayName: Yup.string().required(\"Name cannot be empty\"),\n        username: Yup.string().required(\"Username cannot be empty\"),\n        email: Yup.string().required(\"Email cannot be empty\").email(\"Invalid Email address\"),\n        password: Yup.string().required(\"Password cannot be empty\"),\n      })}\n    >\n      {({ handleSubmit, isSubmitting, errors, isValid, dirty }) => (\n        <Form className=\"ui form error\" onSubmit={handleSubmit} autoComplete=\"off\">\n          <Header content=\"Sign up to Facebook\" as=\"h2\" color=\"teal\" textAlign=\"center\" />\n          <MyTextInput name=\"displayName\" placeholder=\"Display name\" />\n          <MyTextInput name=\"username\" placeholder=\"Username\" />\n          <MyTextInput name=\"email\" placeholder=\"Email\" />\n          <MyTextInput name=\"password\" placeholder=\"Password\" type=\"password\" />\n          <ErrorMessage\n            name=\"error\"\n            render={() => <ValidationsError  errors={errors.error} />}\n          />\n          <Button\n            disabled={!isValid || !dirty || isSubmitting}\n            loading={isSubmitting}\n            content=\"Register\"\n            type=\"submit\"\n            positive\n            fluid\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Container, Header, Image, Segment } from \"semantic-ui-react\";\nimport { useStore } from \"../../app/stores/store\";\nimport LoginForm from \"../users/LoginForm\";\nimport RegisterForm from \"../users/RegisterForm\";\n\nexport default observer(function HomePage() {\n  const { userStore, modalStore } = useStore();\n  return (\n    <Segment inverted textAlign=\"center\" vertical className=\"masthead\">\n      <Container text>\n        <Header as=\"h1\" inverted>\n          <Image size=\"massive\" src=\"/assets/logo.png\" alt=\"logo\" style={{ marginBottom: 12 }} />\n          Facebook\n        </Header>\n        {userStore.IsLoggedIn ? (\n          <>\n            <Header as=\"h2\" inverted content=\"Welcome to my facebook\"></Header>\n            <Button as={Link} to={\"/home\"} size=\"huge\" inverted>\n              Go to Facebook clone!\n            </Button>\n          </>\n        ) : (\n          <>\n            <Button onClick={() => modalStore.openModal(<LoginForm />)} size=\"huge\" inverted>\n              Login\n            </Button>\n            <Button onClick={() => modalStore.openModal(<RegisterForm />)} size=\"huge\" inverted>\n              Register\n            </Button>\n          </>\n        )}\n      </Container>\n    </Segment>\n  );\n});\n","import { Dimmer, Loader } from \"semantic-ui-react\";\n\ninterface Props {\n    inverted?: boolean;\n    content?: string;\n}\n\nexport default function LoadingComponent ({content= \"Loading...\", inverted=true}: Props) {\n    return(\n        <Dimmer active={true} inverted={inverted} >\n            <Loader content={content} />\n        </Dimmer>\n    )\n}","import { useField } from \"formik\";\nimport React from \"react\";\nimport { Form, Label } from \"semantic-ui-react\";\n\ninterface Props {\n  name: string;\n  placeholder: string;\n  label?: string;\n  rows: number;\n  className?: any;\n  cols?: number;\n}\n\nexport default function MyTextArea(props: Props) {\n  const [field, meta] = useField(props.name);\n  return (\n    <Form.Field error={meta.touched && !!meta.error}>\n      <label>{props.label}</label>\n      <textarea className={props.className} {...field} {...props} />\n      {meta.touched && meta.error ? (\n        <Label basic color={\"red\"}>\n          {meta.error}\n        </Label>\n      ) : null}\n    </Form.Field>\n  );\n}\n","import { useField } from 'formik';\nimport React from 'react';\nimport { Form, Label, Select } from 'semantic-ui-react';\n\ninterface Props {\n    name: string;\n    placeholder: string;\n    options: any;\n    label?: string;\n}\n\nexport default function MySelectInput(props: Props) {\n    const [field, meta, helpers] = useField(props.name);\n    return (\n        <Form.Field error={meta.touched && !!meta.error}>\n            <label>{props.label}</label>\n            <Select\n                clearable\n                options={props.options}\n                value={field.value || null}\n                onChange={(e, d) => helpers.setValue(d.value)}\n                onBlur={() => helpers.setTouched(true)}\n                placeholder={props.placeholder}\n            />\n            {meta.touched && meta.error ? (\n                <Label basic color={'red'}  >{meta.error}</Label>\n            ) : null}\n        </Form.Field>\n    )\n}","export const categoryOptions=[\n    {text: 'Drinks', value: 'drinks'},\n    {text: 'Culture', value: 'culture'},\n    {text: 'Film', value: 'film'},\n    {text: 'Food', value: 'food'},\n    {text: 'Music', value: 'music'},\n    {text: 'Travel', value: 'travel'},\n]","import { useField } from 'formik';\nimport React from 'react';\nimport { Form, Label } from 'semantic-ui-react';\nimport DatePicker, {ReactDatePickerProps} from 'react-datepicker';\n\n\nexport default function MyDateInput(props: Partial<ReactDatePickerProps>) {\n    const [field, meta, heplers] = useField(props.name!);\n    return (\n        <Form.Field error={meta.touched && !!meta.error}>\n            <DatePicker\n                {...field}\n                {...props}\n                selected={(field.value && new Date(field.value)) || null}\n                onChange={value => heplers.setValue(value)}\n            />\n            {meta.touched && meta.error ? (\n                <Label basic color={'red'}  >{meta.error}</Label>\n            ) : null}\n        </Form.Field>\n    )\n}","import { observer } from \"mobx-react-lite\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Container, Header, Segment } from \"semantic-ui-react\";\nimport LoadingComponent from \"../../../app/layout/LoadingComponent\";\nimport { useStore } from \"../../../app/stores/store\";\nimport { v4 as uuid } from \"uuid\";\nimport { Form, Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\nimport MyTextArea from \"../../../app/common/form/MyTextArea\";\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\nimport { categoryOptions } from \"../../../app/common/options/categoryOptions\";\nimport MyDateInput from \"../../../app/common/form/MyDateInput\";\nimport { ActivityFormValues } from \"../../../app/layout/models/activity\";\n\nexport default observer(function ActivityForm() {\n  const { activityStore } = useStore();\n  const { loadActivity, createActivity, updateActivity, loadingInitial } = activityStore;\n  const { id } = useParams<{ id: string }>();\n  const history = useHistory();\n  const [activity, setActivity] = useState<ActivityFormValues>(new ActivityFormValues());\n\n  const validationSchema = Yup.object({\n    title: Yup.string().required(\"The activity title is requied\"),\n    category: Yup.string().required(\"The activity category is requied\"),\n    city: Yup.string().required(\"The activity city is requied\"),\n    date: Yup.string().required(\"The activity date is requied\"),\n    description: Yup.string().required(\"The activity description is requied\"),\n    venue: Yup.string().required(\"The activity venue is requied\"),\n  });\n\n  useEffect(() => {\n    if (id)\n      loadActivity(id).then((activity) => {\n        setActivity(new ActivityFormValues(activity));\n      });\n  }, [id, loadActivity]);\n\n  function handleFormSubmit(activity: ActivityFormValues) {\n    if (!activity.id) {\n      let newActivity = {\n        ...activity,\n        id: uuid(),\n      };\n      createActivity(newActivity).then(() => {\n        history.push(`/activities/${newActivity.id}`);\n      });\n    } else {\n      updateActivity(activity).then(() => {\n        history.push(`/activities/${activity.id}`);\n      });\n    }\n  }\n\n  if (loadingInitial) return <LoadingComponent />;\n  return (\n    <Container>\n      <Segment clearing>\n        <Formik\n          validationSchema={validationSchema}\n          enableReinitialize\n          initialValues={activity}\n          onSubmit={(values) => handleFormSubmit(values)}\n        >\n          {({ handleSubmit, isSubmitting, isValid, dirty }) => (\n            <Form className={\"ui form\"} onSubmit={handleSubmit} autoComplete=\"off\">\n              <Header content=\"Actvitiy Details\" sub color=\"teal\" />\n              <MyTextInput name=\"title\" placeholder=\"title\" />\n              <MyTextArea rows={3} placeholder=\"Description\" name=\"description\" />\n              <MySelectInput options={categoryOptions} placeholder=\"Category\" name=\"category\" />\n              <MyDateInput\n                placeholderText=\"Date\"\n                name=\"date\"\n                showTimeSelect\n                timeFormat=\"HH:mm\"\n                timeIntervals={15}\n                timeCaption=\"time\"\n                dateFormat=\"MMMM d, yyyy h:mm aa\"\n              />\n              <Header content=\"Location Details\" sub color=\"teal\" />\n              <MyTextInput placeholder=\"City\" name=\"city\" />\n              <MyTextInput placeholder=\"Venue\" name=\"venue\" />\n              <Button\n                disabled={isSubmitting || !isValid || !dirty}\n                loading={isSubmitting}\n                floated=\"right\"\n                positive\n                type=\"submit\"\n                content=\"Submit\"\n              />\n              <Button as={Link} to={\"/activities\"} floated=\"right\" type=\"button\" content=\"Cancel\" />\n            </Form>\n          )}\n        </Formik>\n      </Segment>\n    </Container>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Header, Item, Segment, Image, Label } from \"semantic-ui-react\";\nimport { Activity } from \"../../../app/layout/models/activity\";\nimport { format } from \"date-fns\";\nimport { useStore } from \"../../../app/stores/store\";\n\nconst activityImageStyle = {\n  filter: \"brightness(30%)\",\n};\n\nconst activityImageTextStyle = {\n  position: \"absolute\",\n  bottom: \"5%\",\n  left: \"5%\",\n  width: \"100%\",\n  height: \"auto\",\n  color: \"white\",\n};\n\ninterface Props {\n  activity: Activity;\n}\n\nexport default observer(function ActivityDetailedHeader({ activity }: Props) {\n  const {\n    activityStore: { updateAttend, loading, cancelActivityToggle },\n  } = useStore();\n  return (\n    <Segment.Group>\n      <Segment basic attached=\"top\" style={{ padding: \"0\" }}>\n        {activity.isCancelled && (\n          <Label\n            style={{ position: \"absolute\", zIndex: 1000, left: -14, top: 20 }}\n            ribbon\n            color=\"red\"\n            content=\"Cancelled\"\n          />\n        )}\n        <Image src={`/assets/categoryImages/${activity.category}.jpg`} fluid style={activityImageStyle} />\n        <Segment style={activityImageTextStyle} basic>\n          <Item.Group>\n            <Item>\n              <Item.Content>\n                <Header size=\"huge\" content={activity.title} style={{ color: \"white\" }} />\n                <p>{format(activity.date!, \"dd MMM yyyy\")}</p>\n                <p>\n                  Hosted by{\" \"}\n                  <Link to={`/profiles/${activity.host?.username}`}>\n                    <strong>{activity.host?.username}</strong>\n                  </Link>\n                </p>\n              </Item.Content>\n            </Item>\n          </Item.Group>\n        </Segment>\n      </Segment>\n      <Segment clearing attached=\"bottom\">\n        {activity.isHost ? (\n          <>\n            <Button\n              color={activity.isCancelled ? \"green\" : \"red\"}\n              floated=\"left\"\n              basic\n              content={activity.isCancelled ? \"Re-activate Activity\" : \"Cancel Activity\"}\n              onClick={cancelActivityToggle}\n            ></Button>\n            <Button\n              disabled={activity.isCancelled}\n              as={Link}\n              to={`/manage/${activity.id}`}\n              color=\"orange\"\n              floated=\"right\"\n            >\n              Manage Event\n            </Button>\n          </>\n        ) : activity.isGoing ? (\n          <Button loading={loading} onClick={updateAttend}>\n            Cancel attendance\n          </Button>\n        ) : (\n          <Button disabled={activity.isCancelled} loading={loading} onClick={updateAttend} color=\"teal\">\n            Join Activity\n          </Button>\n        )}\n      </Segment>\n    </Segment.Group>\n  );\n});\n","import { Field, FieldProps, Form, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Segment, Header, Comment, Loader } from \"semantic-ui-react\";\nimport { useStore } from \"../../../app/stores/store\";\nimport * as Yup from \"yup\";\nimport { formatDistanceToNow } from \"date-fns/esm\";\n\ninterface Props {\n  activityId: string;\n}\n\nexport default observer(function ActivityDetailedChat({ activityId }: Props) {\n  const { commentStore } = useStore();\n  useEffect(() => {\n    if (activityId) {\n      commentStore.createHubConnection(activityId);\n    }\n    return () => {\n      commentStore.clearComments();\n    };\n  }, [commentStore, activityId]);\n  return (\n    <>\n      <Segment textAlign=\"center\" attached=\"top\" inverted color=\"teal\" style={{ border: \"none\" }}>\n        <Header>Chat about this event</Header>\n      </Segment>\n      <Segment attached clearing>\n        <Comment.Group>\n          {commentStore.comments.map(\n            (comment) => (\n              <Comment key={comment.id}>\n                <Comment.Avatar src={comment.image || \"/assets/user.png\"} />\n                <Comment.Content>\n                  <Comment.Author as={Link} to={`/profiles/${comment.username}`}>\n                    {comment.displayName}\n                  </Comment.Author>\n                  <Comment.Metadata>\n                    <div>{formatDistanceToNow(comment.createdAt)} ago</div>\n                  </Comment.Metadata>\n                  <Comment.Text style={{ whiteSpace: \"pre-wrap\" }}>{comment.body}</Comment.Text>\n                  <Comment.Actions>\n                    <Comment.Action>Reply</Comment.Action>\n                  </Comment.Actions>\n                </Comment.Content>\n              </Comment>\n            ),\n            console.log(commentStore.comments)\n          )}\n          <Formik\n            onSubmit={(values, { resetForm }) => commentStore.addComment(values).then(() => resetForm())}\n            initialValues={{ body: \"\" }}\n            validationSchema={Yup.object({\n              body: Yup.string().required(),\n            })}\n          >\n            {({ isSubmitting, isValid, handleSubmit }) => (\n              <Form className=\"ui form\">\n                <Field name=\"body\">\n                  {(props: FieldProps) => (\n                    <div style={{ position: \"relative\", marginTop: 10 }}>\n                      <Loader active={isSubmitting} />\n                      <textarea\n                        placeholder=\"Viết bình luận...\"\n                        rows={2}\n                        {...props.field}\n                        onKeyPress={(e) => {\n                          if (e.key === \"Enter\" && e.shiftKey) {\n                            return;\n                          }\n                          if (e.key === \"Enter\" && !e.shiftKey) {\n                            e.preventDefault();\n                            isValid && handleSubmit();\n                          }\n                        }}\n                      ></textarea>\n                    </div>\n                  )}\n                </Field>\n              </Form>\n            )}\n          </Formik>\n        </Comment.Group>\n      </Segment>\n    </>\n  );\n});\n","import { observer } from 'mobx-react-lite';\nimport React from 'react'\nimport {Segment, Grid, Icon} from 'semantic-ui-react'\nimport { Activity } from '../../../app/layout/models/activity';\nimport {format} from 'date-fns';\n\ninterface Props {\n    activity: Activity\n}\n\nexport default observer(function ActivityDetailedInfo({activity}: Props) {\n    return (\n        <Segment.Group>\n            <Segment attached='top'>\n                <Grid>\n                    <Grid.Column width={1}>\n                        <Icon size='large' color='teal' name='info'/>\n                    </Grid.Column>\n                    <Grid.Column width={15}>\n                        <p>{activity.description}</p>\n                    </Grid.Column>\n                </Grid>\n            </Segment>\n            <Segment attached>\n                <Grid verticalAlign='middle'>\n                    <Grid.Column width={1}>\n                        <Icon name='calendar' size='large' color='teal'/>\n                    </Grid.Column>\n                    <Grid.Column width={15}>\n            <span>\n              {format(activity.date! , 'dd MMM yyyy h:mm aa')}\n            </span>\n                    </Grid.Column>\n                </Grid>\n            </Segment>\n            <Segment attached>\n                <Grid verticalAlign='middle'>\n                    <Grid.Column width={1}>\n                        <Icon name='marker' size='large' color='teal'/>\n                    </Grid.Column>\n                    <Grid.Column width={11}>\n                        <span>{activity.venue}, {activity.city}</span>\n                    </Grid.Column>\n                </Grid>\n            </Segment>\n        </Segment.Group>\n    )\n})","import React from \"react\";\nimport { Segment, List, Label, Item, Image } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { observer } from \"mobx-react-lite\";\nimport { Activity } from \"../../../app/layout/models/activity\";\n\ninterface Props {\n  activity: Activity;\n}\n\nexport default observer(function ActivityDetailedSidebar({ activity: { attendees, host } }: Props) {\n  return (\n    <>\n      <Segment textAlign=\"center\" style={{ border: \"none\" }} attached=\"top\" secondary inverted color=\"teal\">\n        {attendees?.length} {attendees?.length === 1 ? \"Person\" : \"People\"} going\n      </Segment>\n      <Segment attached>\n        <List relaxed divided>\n          {attendees?.map((attendee) => (\n            <Item style={{ position: \"relative\" }} key={attendee.username}>\n              {attendee.username === host?.username && (\n                <Label style={{ position: \"absolute\" }} color=\"orange\" ribbon=\"right\">\n                  Host\n                </Label>\n              )}\n              <a style={{ float: \"left\", marginRight: \"10px\" }} href={`/profiles/${attendee.username}`}>\n                <Image size=\"tiny\" src={attendee.image || \"/assets/user.png\"} />\n              </a>\n              <Item.Content verticalAlign=\"middle\">\n                <Item.Header as=\"h3\">\n                  <Link to={`/profiles/${attendee.username}`}>{attendee.displayName}</Link>\n                </Item.Header>\n                {attendee.following && <Item.Extra style={{ color: \"orange\" }}>Following</Item.Extra>}\n              </Item.Content>\n            </Item>\n          ))}\n        </List>\n      </Segment>\n    </>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React, { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Grid } from \"semantic-ui-react\";\nimport LoadingComponent from \"../../../app/layout/LoadingComponent\";\nimport { useStore } from \"../../../app/stores/store\";\nimport ActivityDetailedHeader from \"./ActivitDetailedHeader\";\nimport ActivityDetailedChat from \"./ActivityDetailedChat\";\nimport ActivityDetailedInfo from \"./ActivityDetailedInfo\";\nimport ActivityDetailedSidebar from \"./ActivityDetailedSidebar\";\n\nexport default observer(function ActivityDetails() {\n  const { activityStore } = useStore();\n  const { selectedActivity: activity, loadActivity, loadingInitial, clearSelectedActivity } = activityStore;\n  const { id } = useParams<{ id: string }>();\n\n  useEffect(() => {\n    if (id) loadActivity(id);\n    window.scrollTo(0, 0);\n    return () => clearSelectedActivity();\n  }, [id, loadActivity, clearSelectedActivity]);\n\n  if (loadingInitial || !activity) return <LoadingComponent />;\n  return (\n    <Grid>\n      <Grid.Column width=\"10\">\n        <ActivityDetailedHeader activity={activity} />\n        <ActivityDetailedInfo activity={activity} />\n        <ActivityDetailedChat activityId={activity.id} />\n      </Grid.Column>\n      <Grid.Column width=\"6\">\n        <ActivityDetailedSidebar activity={activity} />\n      </Grid.Column>\n    </Grid>\n  );\n});\n","import React, { useState } from \"react\";\nimport { Button, Container, Header, Segment } from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport ValidationsError from \"./ValidationError\";\n\nexport default function TestErrors() {\n  const baseUrl = process.env.REACT_APP_API_URL;\n  const [errors, setErrors] = useState(null);\n\n  function handleNotFound() {\n    axios.get(baseUrl + \"buggy/not-found\").catch((err) => console.log(err.response));\n  }\n\n  function handleBadRequest() {\n    axios.get(baseUrl + \"buggy/bad-request\").catch((err) => console.log(err.response));\n  }\n\n  function handleServerError() {\n    axios.get(baseUrl + \"buggy/server-error\").catch((err) => console.log(err.response));\n  }\n\n  function handleUnauthorised() {\n    axios.get(baseUrl + \"buggy/unauthorised\").catch((err) => console.log(err.response));\n  }\n\n  function handleBadGuid() {\n    axios.get(baseUrl + \"activities/notaguid\").catch((err) => console.log(err));\n  }\n\n  function handleValidationError() {\n    axios.post(baseUrl + \"activities\", {}).catch((err) => setErrors(err));\n  }\n\n  return (\n    <Container>\n      <Header as=\"h1\" content=\"Test Error component\" />\n      <Segment>\n        <Button.Group widths=\"7\">\n          <Button onClick={handleNotFound} content=\"Not Found\" basic primary />\n          <Button onClick={handleBadRequest} content=\"Bad Request\" basic primary />\n          <Button onClick={handleValidationError} content=\"Validation Error\" basic primary />\n          <Button onClick={handleServerError} content=\"Server Error\" basic primary />\n          <Button onClick={handleUnauthorised} content=\"Unauthorised\" basic primary />\n          <Button onClick={handleBadGuid} content=\"Bad Guid\" basic primary />\n        </Button.Group>\n      </Segment>\n      {errors && <ValidationsError errors={errors} />}\n    </Container>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Header, Icon, Segment } from \"semantic-ui-react\";\n\nexport default function NotFound() {\n  return (\n    <Segment placeholder>\n      <Header icon>\n        <Icon name=\"search\" />\n        Oops - we've looked everywhere and could not find this.\n      </Header>\n      <Segment.Inline>\n        <Button as={Link} to={\"/home\"} primary>\n          Return to facebook page\n        </Button>\n      </Segment.Inline>\n    </Segment>\n  );\n}\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Container, Header, Segment } from \"semantic-ui-react\";\nimport { useStore } from \"../../app/stores/store\";\n\nexport default observer(function ServerError() {\n  const { commonStore } = useStore();\n  return (\n    <Container>\n      <Header as=\"h1\" content=\"Server Error\"></Header>\n      <Header sub as=\"h5\" color=\"red\" content={commonStore.error?.messages} />\n      {commonStore.error?.details && (\n        <Segment>\n          <Header as=\"h4\" content=\"Stack Trace\" color=\"teal\"></Header>\n          <code style={{ marginTop: 10}}>\n            {commonStore.error.details}\n          </code>\n        </Segment>\n      )}\n    </Container>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Modal } from \"semantic-ui-react\";\nimport { useStore } from \"../../stores/store\";\n\nexport default observer(function ModalContainer() {\n  const { modalStore } = useStore();\n  return (\n    <Modal\n      style={{ position: \"relative\", height: 480, width: 500 }}\n      open={modalStore.modal.open}\n      onClose={modalStore.closeModal}\n      size=\"mini\"\n    >\n      <Modal.Content style={{ position: \"relative\" }}>{modalStore.modal.body}</Modal.Content>\n    </Modal>\n  );\n});\n","import React from \"react\";\n\nimport {\n  MDBDropdown,\n  MDBDropdownMenu,\n  MDBDropdownToggle,\n  MDBDropdownItem,\n  MDBDropdownLink,\n  MDBBtn,\n} from \"mdb-react-ui-kit\";\nimport { observer } from \"mobx-react-lite\";\nimport { Profile } from \"../../app/layout/models/profile\";\nimport { useStore } from \"../../app/stores/store\";\nimport { Link, useRouteMatch } from \"react-router-dom\";\n\ninterface Props {\n  profile: Profile;\n  button: string;\n  setButton: (name: string) => void;\n}\n\nexport default observer(function ProfileHeader({ profile, button, setButton }: Props) {\n  const {\n    userStore: { user },\n    profileStore: { updateFollowing },\n  } = useStore();\n\n  let { url } = useRouteMatch();\n\n  function handleFollow(username: string) {\n    profile.following ? updateFollowing(username, false) : updateFollowing(username, true);\n  }\n\n  return (\n    <div className=\"container\" style={{ marginTop: \"-45px\" }}>\n      {/* Section: Images */}\n      <section className=\"mb-5\">\n        <div\n          className=\"p-5 text-center bg-image rounded-6\"\n          style={{\n            backgroundImage: \"url('https://mdbcdn.b-cdn.net/img/new/slides/041.jpg')\",\n            height: 400,\n            boxShadow: \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n          }}\n        ></div>\n        <div className=\"d-flex justify-content-center\">\n          <img\n            src={profile.image || \"/assets/user.png\"}\n            alt=\"user\"\n            className=\"rounded-circle position-absolute\"\n            style={{ width: \"169px\", marginTop: \"-140px\", border: \"5px solid white\" }}\n          />\n        </div>\n      </section>\n      {/* Section: Images */}\n      {/* Section: User data */}\n      <section className=\"text-center border-bottom\">\n        <div className=\"row d-flex justify-content-center\">\n          <div className=\"col-md-6\">\n            <h2>\n              <strong>{profile.displayName}</strong>\n            </h2>\n            <span style={{ marginRight: \"10px\", fontSize: \"20px\" }}>{profile.followersCount} người theo dõi</span>\n            <i className=\"far fa-dot-circle\" style={{ fontSize: \"10px\" }}></i>\n            <span style={{ marginLeft: \"10px\", fontSize: \"20px\" }}>{profile.followingCount} đang theo dõi</span>\n            <p className=\"text-muted fs-5 m-4\">\n              Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis molestiae necessitatibus aut ipsa\n              repellat quo eos minus laudantium architecto iure optio magni, accusamus.\n            </p>\n          </div>\n        </div>\n      </section>\n      {/* Section: User data */}\n      {/* Section: Buttons */}\n      <section className=\"py-3 d-flex justify-content-between\">\n        {/* left buttons */}\n        <div className=\"\">\n          <Link to={`${url}`}>\n            <button type=\"button\" className=\"btn btn-link bg-light fs-6 rounded-4 mx-1\" data-mdb-ripple-color=\"dark\">\n              Bài viết\n            </button>\n          </Link>\n          <button type=\"button\" className=\"btn btn-link text-reset fs-6 rounded-4 mx-1\" data-mdb-ripple-color=\"dark\">\n            Giới thiệu\n          </button>\n          <Link to={`${url}/friends`}>\n            <button type=\"button\" className=\"btn btn-link text-reset fs-6 rounded-4 mx-1\" data-mdb-ripple-color=\"dark\">\n              Bạn bè <small className=\"text-muted\">333</small>\n            </button>\n          </Link>\n          <Link to={`${url}/images`}>\n            <button type=\"button\" className=\"btn btn-link text-reset fs-6 rounded-4 mx-1\" data-mdb-ripple-color=\"dark\">\n              Ảnh\n            </button>\n          </Link>\n\n          <MDBDropdown group className=\"shadow-0\">\n            <MDBDropdownToggle className=\"text-reset fs-6 rounded-4 mx-1\" color=\"link\">\n              Action\n            </MDBDropdownToggle>\n            <MDBDropdownMenu>\n              <MDBDropdownItem>\n                <MDBDropdownLink className=\"fs-6\" href=\"#\">\n                  Action\n                </MDBDropdownLink>\n              </MDBDropdownItem>\n              <MDBDropdownItem>\n                <MDBDropdownLink className=\"fs-6\" href=\"#\">\n                  Another action\n                </MDBDropdownLink>\n              </MDBDropdownItem>\n              <MDBDropdownItem>\n                <MDBDropdownLink className=\"fs-6\" href=\"#\">\n                  Something else here\n                </MDBDropdownLink>\n              </MDBDropdownItem>\n            </MDBDropdownMenu>\n          </MDBDropdown>\n        </div>\n\n        {/* right buttons */}\n        <div className=\"\">\n          <MDBBtn\n            className=\"mx-3 fs-6 rounded-4 mx-1\"\n            style={{\n              width: \"200px\",\n              height: \"36px\",\n            }}\n            onClick={() => handleFollow(profile.username)}\n          >\n            <i className=\"fas fa-plus-circle\"></i>\n            {profile.username === user?.username ? \"Thêm vào tin\" : profile.following ? \"Huỷ theo dõi\" : \"Theo dõi\"}\n          </MDBBtn>\n          <MDBBtn color=\"light\" className=\"fs-6 rounded-4 mx-1\" style={{ width: \"260px\", height: \"36px\" }}>\n            <i className=\"fas fa-pen\"></i> Chỉnh sửa trang cá nhân\n          </MDBBtn>\n        </div>\n      </section>\n      {/* Section: Buttons */}\n    </div>\n  );\n});\n","import React from \"react\";\nimport { Cropper } from \"react-cropper\";\nimport \"cropperjs/dist/cropper.css\";\n\ninterface Props {\n  imagePreview: string;\n  setCropper: (copper: Cropper) => void;\n}\n\nexport default function PhotoWidgetCropper({ imagePreview, setCropper }: Props) {\n  return (\n    <Cropper\n      src={imagePreview}\n      style={{ height: 200, width: \"auto\" }}\n      initialAspectRatio={1}\n      aspectRatio={1}\n      preview=\".img-preview\"\n      guides={false}\n      viewMode={1}\n      autoCropArea={1}\n      background={false}\n      onInitialized={(cropper) => setCropper(cropper)}\n    ></Cropper>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport { Header, Icon } from \"semantic-ui-react\";\n\ninterface Props {\n  setFiles: (files: any) => void;\n  style?: any;\n}\nexport default function PhotoWidgetDropzone({ setFiles, style }: Props) {\n  const dzStyles = {\n    border: \"dashed 3px #eee\",\n    borderColor: \"#eee\",\n    borderRadius: \"5px\",\n    paddingTop: \"30px\",\n    textAlign: \"center\" as \"center\",\n    height: 200,\n  };\n\n  const dzActive = {\n    borderColor: \"green\",\n  };\n\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      // Callback chỉ làm việc khi dependency thay đổi cụ thể là setFiles()\n      setFiles(\n        acceptedFiles.map((file: any) =>\n          Object.assign(file, {\n            preview: URL.createObjectURL(file),\n          })\n        )\n      );\n    },\n    [setFiles]\n  );\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\n\n  return (\n    <div {...getRootProps()} style={isDragActive ? { ...dzStyles, ...dzActive } : dzStyles}>\n      <input {...getInputProps()} />\n      <Icon name=\"upload\" size=\"huge\" />\n      <Header content=\"Chọn hoặc thả ảnh vào đây\" />\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Grid, GridRow, Header } from \"semantic-ui-react\";\nimport PhotoWidgetCropper from \"./PhotoWidgetCropper\";\nimport PhotoWidgetDropzone from \"./PhotoWidgetDropzone\";\ninterface Props {\n  loadingUpload: boolean;\n  uploadPhoto: (file: Blob) => void;\n}\nexport default function PhotoUploadWidget({ loadingUpload, uploadPhoto }: Props) {\n  const [files, setFiles] = useState<any>([]);\n  const [cropper, setCropper] = useState<Cropper>();\n\n  function onCrop() {\n    if (cropper) {\n      cropper.getCroppedCanvas().toBlob((blob) => {\n        uploadPhoto(blob!);\n      });\n    }\n  }\n\n  useEffect(() => {\n    return () => {\n      files.forEach((file: any) => {\n        URL.revokeObjectURL(file.preview);\n      });\n    };\n  }, [files]);\n  return (\n    <Grid>\n      <GridRow>\n        <Header style={{ marginLeft: \"25px\", marginBottom: \"10px\" }} sub content=\"Bước 1 - Thêm ảnh\" />\n        <PhotoWidgetDropzone setFiles={setFiles} />\n      </GridRow>\n      <GridRow>\n        <Header style={{ marginLeft: \"25px\", marginBottom: \"10px\" }} sub content=\"Bước 2 - Điêu chỉnh kích cỡ ảnh\" />\n        {files && files.length > 0 && <PhotoWidgetCropper setCropper={setCropper} imagePreview={files[0].preview} />}\n      </GridRow>\n      <GridRow>\n        <Header style={{ marginLeft: \"25px\", marginBottom: \"10px\" }} sub content=\"Bước 3 - Xem & Đăng ảnh\" />\n        {files && files.length > 0 && (\n          <>\n            <div className=\"preview__img__container\">\n              <div\n                className=\"img-preview rounded mx-auto d-block\"\n                style={{ minHeight: 200, overflow: \"hidden\", textAlign: \"center\" }}\n              ></div>\n            </div>\n            <Button.Group widths={2} className=\"mt-4 mx-2\" style={{ marginLeft: 10 }}>\n              <Button\n                loading={loadingUpload}\n                onClick={onCrop}\n                positive\n                style={{ backgroundColor: \"#1977f2\" }}\n                icon=\"check\"\n              />\n              <Button loading={loadingUpload} onClick={() => setFiles([])} icon=\"close\" />\n            </Button.Group>\n          </>\n        )}\n      </GridRow>\n    </Grid>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { format } from \"date-fns\";\nimport { Field, FieldProps, Form, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport React, { useEffect } from \"react\";\nimport { Post } from \"../../app/layout/models/post\";\nimport { useStore } from \"../../app/stores/store\";\nimport * as Yup from \"yup\";\nimport { formatDistanceToNow } from \"date-fns/esm\";\nimport { Loader } from \"semantic-ui-react\";\nimport vi from \"date-fns/locale/vi\";\n\ninterface Props {\n  post: Post;\n}\n\nexport default observer(function Post({ post }: Props) {\n  const {\n    commentStorePost,\n    userStore: { user },\n  } = useStore();\n  useEffect(() => {\n    if (post) {\n      commentStorePost.createHubConnectionPost(post.id);\n    }\n    return () => {\n      commentStorePost.clearComments();\n    };\n  }, [commentStorePost, post]);\n  return (\n    <>\n      <div className=\"card w-100 rounded-6 mt-3\">\n        <div className=\"card-body\">\n          <div className=\"d-flex\">\n            <a href=\"/\">\n              <img\n                src={post.hostImage || \"/assets/user.png\"}\n                alt=\"\"\n                style={{ height: \"50px\" }}\n                className=\"rounded-circle border\"\n              />\n            </a>\n            <div style={{ marginLeft: \"10px\" }}>\n              <a href=\"/\" className=\"text-dark mb-0\">\n                <strong>{post.displayName}</strong>\n              </a>\n              <a href=\"/\" className=\"d-block text-muted\">\n                <small style={{ marginRight: 10 }}>{format(post.createdAt, \"dd MMM yyyy\")}</small>\n                <i className=\"fas fa-globe-africa\"></i>\n              </a>\n            </div>\n          </div>\n          <p className=\"mt-3\">{post.caption}</p>\n        </div>\n        <img src={post.image} alt=\"\" />\n        <div className=\"card-body\">\n          <div className=\"d-flex justify-content-between\">\n            <div className=\"icon__like d-flex\">\n              <img\n                style={{ height: \"25px\", zIndex: 3, borderRadius: 999, border: \"2px white solid\" }}\n                src=\"/assets/like.png\"\n                alt=\"\"\n              />\n              <i\n                style={{\n                  color: \"rgb(237, 72, 86)\",\n                  fontSize: \"25px\",\n                  marginLeft: -5,\n                  borderRadius: 999,\n                  zIndex: 2,\n                  border: \"2px white solid\",\n                }}\n                className=\"fab fa-gratipay\"\n              ></i>\n              <i\n                style={{\n                  color: \"#facd57\",\n                  fontSize: \"25px\",\n                  marginLeft: -5,\n                  marginRight: 3,\n                  borderRadius: 999,\n                  zIndex: 1,\n                  border: \"2px white solid\",\n                }}\n                className=\"fas fa-laugh-squint\"\n              ></i>\n              <a href=\"#\" className=\"text-muted underline__like\">\n                {post.likes.length}\n              </a>\n            </div>\n            <a href=\"\" style={{ marginTop: \"7px\", marginRight: \"5px\" }} className=\"text-muted\">\n              {post.comments.length} bình luận\n            </a>\n          </div>\n          <hr style={{ marginBottom: -1 }} />\n          <div className=\"like_comment_share\">\n            <div style={{ width: \"600px\" }} className=\"d-flex justify-content-between\">\n              <button\n                onClick={() => commentStorePost.addLike(post.id, post.id)}\n                className=\"btn btn-light rounded-3 fs-5 btn-mind\"\n                style={{\n                  background: \"#f0f2f5\",\n                  textTransform: \"none\",\n                  textAlign: \"center\",\n                  color: \"#0671ed\",\n                  width: \"160px\",\n                }}\n              >\n                <i className=\"fas fa-thumbs-up\"></i>\n                <p style={{ marginLeft: \"10px\" }} className=\"d-inline-block\">\n                  Thích\n                </p>\n              </button>\n              <button\n                className=\"btn btn-light rounded-3 fs-5 btn-mind\"\n                style={{ background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"center\", marginLeft: -50 }}\n              >\n                <i style={{ marginLeft: \"10px\" }} className=\"far fa-comment-alt text-muted\"></i>\n                <p style={{ marginLeft: \"10px\" }} className=\"d-inline-block text-muted\">\n                  Bình luận\n                </p>\n              </button>\n              <button\n                className=\"btn btn-light rounded-3 fs-5 btn-mind\"\n                style={{ background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"center\" }}\n              >\n                <i className=\"fas fa-share text-muted\"></i>\n                <p style={{ marginLeft: \"10px\" }} className=\"d-inline-block text-muted\">\n                  Chia sẻ\n                </p>\n              </button>\n            </div>\n          </div>\n          <hr style={{ marginTop: -1 }} />\n          {post.comments.map((comment) => (\n            <div key={comment.id} className=\"d-flex mb-2\">\n              <a href={`/profiles/${comment.username}`}>\n                <img\n                  src={comment.image || \"/assets/user.png\"}\n                  alt=\"\"\n                  style={{ height: \"50px\" }}\n                  className=\"rounded-circle border\"\n                />\n              </a>\n              <div className=\"d-flex align-items-center\">\n                <div className=\"comment__content\">\n                  <div className=\"comment__others\" style={{ marginLeft: \"10px\", background: \"rgb(240,242,245)\" }}>\n                    <a href={`/profiles/${comment.username}`} className=\"text-dark mb-0\">\n                      <strong>{comment.displayName}</strong>\n                    </a>\n                    <p className=\"pt-1 pb-2\" style={{ whiteSpace: \"pre-wrap\" }}>\n                      {comment.body}\n                    </p>\n                  </div>\n                  <a href=\"#\" className=\"text-muted\" style={{ marginLeft: \"30px\" }}>\n                    <strong>Thích</strong>\n                  </a>\n                  <a href=\"#\" className=\"text-muted\" style={{ marginLeft: \"10px\" }}>\n                    <strong>Trả lời</strong>\n                  </a>\n                  <a href=\"#\" className=\"text-muted\" style={{ marginLeft: \"10px\" }}>\n                    <small>{formatDistanceToNow(new Date(comment.createdAt), { locale: vi })} truớc</small>\n                  </a>\n                </div>\n                <button className=\"btn btn__options_comment mb-3\" style={{ marginLeft: 10, textAlign: \"center\" }}>\n                  <i className=\"fas fa-ellipsis-h\" style={{ marginLeft: -4 }}></i>\n                </button>\n              </div>\n            </div>\n          ))}\n          <div className=\"d-flex\">\n            <a href=\"/\">\n              <img\n                src={user?.image || \"/assets/user.png\"}\n                alt=\"\"\n                style={{ height: \"50px\" }}\n                className=\"rounded-circle border mt-3\"\n              />\n            </a>\n            <Formik\n              onSubmit={(values, { resetForm }) => commentStorePost.addComment(values, post.id).then(() => resetForm())}\n              initialValues={{ body: \"\" }}\n              validationSchema={Yup.object({\n                body: Yup.string().required(),\n              })}\n            >\n              {({ isSubmitting, isValid, handleSubmit }) => (\n                <Form className=\"ui form\">\n                  <Field name=\"body\">\n                    {(props: FieldProps) => (\n                      <div style={{ position: \"relative\", marginTop: 10 }}>\n                        <Loader active={isSubmitting} />\n                        <textarea\n                          style={{ width: 500, marginLeft: 20 }}\n                          placeholder=\"Viết bình luận...\"\n                          rows={2}\n                          {...props.field}\n                          onKeyPress={(e) => {\n                            if (e.key === \"Enter\" && e.shiftKey) {\n                              return;\n                            }\n                            if (e.key === \"Enter\" && !e.shiftKey) {\n                              e.preventDefault();\n                              isValid && handleSubmit();\n                            }\n                          }}\n                        ></textarea>\n                      </div>\n                    )}\n                  </Field>\n                </Form>\n              )}\n            </Formik>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React, { SyntheticEvent, useState } from \"react\";\nimport { Button, Icon, Popup } from \"semantic-ui-react\";\nimport PhotoUploadWidget from \"../../app/common/imageUpload/PhotoUploadWidget\";\nimport { Photo, Profile } from \"../../app/layout/models/profile\";\nimport { useStore } from \"../../app/stores/store\";\nimport Post from \"../posts/Post\";\n\ninterface Props {\n  profile: Profile;\n  button: string;\n}\n\nexport default observer(function ProfileMain({ profile, button }: Props) {\n  const {\n    profileStore: { isCurrentUser, uploadPhoto, loadingUpload, loading, setMainPhoto, deletePhoto },\n    postStore: { postsByDate },\n  } = useStore();\n  const [addPhotoMode, setAddPhotoMode] = useState(false);\n  const [target, setTarget] = useState(\"\");\n  function handlePhotoUpload(file: Blob) {\n    uploadPhoto(file).then(() => {\n      setAddPhotoMode(false);\n    });\n  }\n\n  function handleSetMainPhoto(photo: Photo, e: SyntheticEvent<HTMLButtonElement>) {\n    setTarget(e.currentTarget.name);\n    setMainPhoto(photo);\n  }\n\n  function handleDeletePhoto(photo: Photo, e: SyntheticEvent<HTMLButtonElement>): void {\n    setTarget(e.currentTarget.name);\n    deletePhoto(photo);\n  }\n\n  return (\n    <div>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-5 mb-4 md-0 left__side\">\n            {/* List thông tin */}\n            <div className=\"card w-100 rounded-6\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title fs-4\">\n                  <strong>Giới thiệu</strong>\n                </h5>\n                <ul className=\"list-unstyled fs-5\">\n                  <li className=\"d-flex mb-3\">\n                    <i className=\"fas fa-graduation-cap\"></i>\n                    <p style={{ marginLeft: 15 }}>\n                      Học ở{\" \"}\n                      <a href=\"/\" className=\"text-reset\">\n                        <strong>Trường THPT Nguyễn Hữu Cảnh - Bình Tân</strong>{\" \"}\n                      </a>\n                    </p>\n                  </li>\n                  <li className=\"d-flex mb-3\">\n                    <i className=\"fas fa-home\"></i>\n                    <p style={{ marginLeft: 15 }}>\n                      Sống tại{\" \"}\n                      <a href=\"/\" className=\"text-reset\">\n                        <strong>Thành phố Hồ Chí Minh</strong>{\" \"}\n                      </a>\n                    </p>\n                  </li>\n                  <li className=\"d-flex mb-3\">\n                    <i className=\"fas fa-map-marker-alt\"></i>\n                    <p style={{ marginLeft: 20 }}>\n                      Đến từ{\" \"}\n                      <a href=\"/\" className=\"text-reset\">\n                        <strong>Thành phố Hồ Chí Minh</strong>{\" \"}\n                      </a>\n                    </p>\n                  </li>\n                  <li className=\"d-flex mb-3\">\n                    <i className=\"fas fa-rss\"></i>\n                    <p style={{ marginLeft: 15 }}>\n                      Có{\" \"}\n                      <a href=\"/\" className=\"text-reset\">\n                        <strong>1.200 người</strong> theo dõi\n                      </a>\n                    </p>\n                  </li>\n                  <li className=\"d-flex mb-3\">\n                    <i className=\"fas fa-heart\"></i>\n                    <p style={{ marginLeft: 15 }}>Độc thân</p>\n                  </li>\n                  <li className=\"d-flex mb-3\">\n                    <i className=\"fas fa-clock\"></i>\n                    <p style={{ marginLeft: 15 }}>Tham gia vào Tháng 2 năm 2015</p>\n                  </li>\n                </ul>\n                <button\n                  type=\"button\"\n                  style={{ backgroundColor: \"#f0f2f5\", color: \"#050505\", textTransform: \"none\" }}\n                  className=\"btn btn-block fs-6 mb-4\"\n                  data-mdb-ripple-color=\"dark\"\n                >\n                  <strong>Chỉnh sửa chi tiết</strong>\n                </button>\n                <button\n                  type=\"button\"\n                  style={{ backgroundColor: \"#f0f2f5\", textTransform: \"none\" }}\n                  className=\"btn btn-light btn-block fs-6 mb-4\"\n                  data-mdb-ripple-color=\"dark\"\n                >\n                  <strong>Thêm sở thích</strong>\n                </button>\n                <button\n                  type=\"button\"\n                  style={{ backgroundColor: \"#f0f2f5\", textTransform: \"none\" }}\n                  className=\"btn btn-light btn-block fs-6\"\n                  data-mdb-ripple-color=\"dark\"\n                >\n                  <strong>Thêm nội dung đáng chú ý</strong>\n                </button>\n              </div>\n            </div>\n            {/* List Ảnh */}\n            <div className=\"card w-100 mt-4 rounded-6\">\n              <div className=\"card-body\">\n                <div className=\"d-flex justify-content-between mb-3\">\n                  <div>\n                    <h5 className=\"card-title fs-4\">\n                      <strong>Ảnh</strong>\n                    </h5>\n                  </div>\n                  <div className=\"fs-5\">\n                    {isCurrentUser && (\n                      <button\n                        className=\"btn btn__images\"\n                        onClick={() => {\n                          setAddPhotoMode(!addPhotoMode);\n                          console.log(123);\n                        }}\n                      >\n                        {addPhotoMode ? \"Trở lại\" : \"Chỉnh sửa ảnh\"}\n                      </button>\n                    )}\n                  </div>\n                </div>\n                {addPhotoMode ? (\n                  <PhotoUploadWidget loadingUpload={loadingUpload} uploadPhoto={handlePhotoUpload} />\n                ) : (\n                  <div className=\"lightbox\">\n                    <div className=\"row gx-2 mb-4\">\n                      {profile.photos.map((photo, i) => (\n                        <div key={i} className=\"col-lg-4 mb-2\">\n                          <Popup\n                            position=\"bottom left\"\n                            trigger={\n                              <Button color=\"black\" className=\"button__options__image\" icon>\n                                <Icon name=\"edit\" />\n                              </Button>\n                            }\n                            on=\"click\"\n                          >\n                            <Button\n                              type=\"button\"\n                              className=\"btn btn-link text-reset fs-6 rounded-4 mx-1 img__mainphoto\"\n                              data-mdb-ripple-color=\"dark\"\n                              disabled={photo.isMain}\n                              name={\"main\" + photo.id}\n                              loading={target === \"main\" + photo.id && loading}\n                              onClick={(e) => handleSetMainPhoto(photo, e)}\n                            >\n                              <i className=\"far fa-user-circle\"></i> Đặt làm ảnh đại diện\n                            </Button>\n                            <Button\n                              type=\"button\"\n                              className=\"btn btn-link text-reset fs-6 rounded-4 mx-1 img__delete\"\n                              data-mdb-ripple-color=\"dark\"\n                              disabled={photo.isMain}\n                              name={photo.id}\n                              loading={target === photo.id && loading}\n                              onClick={(e) => handleDeletePhoto(photo, e)}\n                            >\n                              <i className=\"fas fa-trash\"> </i> Xoá ảnh\n                            </Button>\n                          </Popup>\n\n                          <img\n                            className=\"w-100 h-100\"\n                            data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                            src={photo.url || \"/assets/user.png\"}\n                            alt=\"\"\n                          />\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n            {/* List bạn bè */}\n            <div className=\"card w-100 mt-4 rounded-6\">\n              <div className=\"card-body\">\n                <div className=\"d-flex justify-content-between mb-1\">\n                  <div className=\"\">\n                    <h5 className=\"card-title fs-4\">\n                      <strong>Bạn bè</strong>\n                    </h5>\n                  </div>\n                  <div className=\"fs-5\">\n                    <a href=\"/\">Xem tất bạn bè</a>\n                  </div>\n                </div>\n                <div className=\"text-muted mb-3 fs-5\">385 người bạn</div>\n                <div className=\"\">\n                  <div className=\"row gx-3\">\n                    <div className=\"col-lg-4 mb-3\">\n                      <img\n                        className=\"w-100 rounded-7\"\n                        data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                      />\n                      <div className=\"ml-2 mt-1\">Trần Thanh Tùng</div>\n                    </div>\n                    <div className=\"col-lg-4 mb-3\">\n                      <img\n                        className=\"w-100 rounded-7\"\n                        data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                      />\n                      <div className=\"ml-2 mt-1\">Trần Thanh Tùng</div>\n                    </div>\n                    <div className=\"col-lg-4 mb-3\">\n                      <img\n                        className=\"w-100 rounded-7\"\n                        data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                      />\n                      <div className=\"ml-2 mt-1\">Trần Thanh Tùng</div>\n                    </div>\n                    <div className=\"col-lg-4 mb-3\">\n                      <img\n                        className=\"w-100 rounded-7\"\n                        data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                      />\n                      <div className=\"ml-2 mt-1\">Trần Thanh Tùng</div>\n                    </div>\n                    <div className=\"col-lg-4 mb-3\">\n                      <img\n                        className=\"w-100 rounded-7\"\n                        data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                      />\n                      <div className=\"ml-2 mt-1\">Trần Thanh Tùng</div>\n                    </div>\n                    <div className=\"col-lg-4 mb-3\">\n                      <img\n                        className=\"w-100 rounded-7\"\n                        data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                      />\n                      <div className=\"ml-2 mt-1\">Trần Thanh Tùng</div>\n                    </div>\n                    <div className=\"col-lg-4 mb-3\">\n                      <img\n                        className=\"w-100 rounded-7\"\n                        data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                      />\n                      <div className=\"ml-2 mt-1\">Trần Thanh Tùng</div>\n                    </div>\n                    <div className=\"col-lg-4 mb-3\">\n                      <img\n                        className=\"w-100 rounded-7\"\n                        data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                      />\n                      <div className=\"ml-2 mt-1\">Trần Thanh Tùng</div>\n                    </div>\n                    <div className=\"col-lg-4 mb-3\">\n                      <img\n                        className=\"w-100 rounded-7\"\n                        data-mdb-img=\"https://mdbcdn.b-cdn.net/img/Photos/Slides/1.jpg\"\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                      />\n                      <div className=\"ml-2 mt-1\">Trần Thanh Tùng</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-7 mb-4 md-0\">\n            {isCurrentUser ? (\n              <div className=\"card w-100 rounded-6\">\n                <div className=\"card-body\">\n                  <div className=\"d-flex\">\n                    <a href=\"/\">\n                      <img\n                        src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n                        alt=\"\"\n                        style={{ height: \"50px\" }}\n                        className=\"rounded-circle border mr-2\"\n                      />\n                    </a>\n                    <button\n                      style={{ marginLeft: 20, background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"start\" }}\n                      className=\"btn btn-block btn-rounded fs-5 text-muted\"\n                    >\n                      <p>Bạn đang nghĩ gì?</p>\n                    </button>\n                  </div>\n                  <hr />\n                  <div className=\"d-flex justify-content-between\">\n                    <button\n                      className=\"btn btn-light rounded-3 fs-5 btn-mind\"\n                      style={{ background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"start\", color: \"GrayText\" }}\n                    >\n                      <i className=\"fas fa-video\" style={{ color: \"red\" }}></i>\n                      <p style={{ marginLeft: \"10px\" }} className=\"d-inline-block\">\n                        Video trực tiếp\n                      </p>\n                    </button>\n                    <button\n                      className=\"btn btn-light rounded-3 fs-5 btn-mind\"\n                      style={{ background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"start\", color: \"GrayText\" }}\n                    >\n                      <i className=\"fas fa-photo-video\" style={{ color: \"green\" }}></i>\n                      <p style={{ marginLeft: \"10px\" }} className=\"d-inline-block\">\n                        Ảnh/Video\n                      </p>\n                    </button>\n                    <button\n                      className=\"btn btn-light rounded-3 fs-5 btn-mind\"\n                      style={{ background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"start\", color: \"GrayText\" }}\n                    >\n                      <i className=\"fab fa-font-awesome-flag\" style={{ color: \"#45b0d5\" }}></i>\n                      <p style={{ marginLeft: \"10px\" }} className=\"d-inline-block\">\n                        Sự kiện trong đời\n                      </p>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              \"\"\n            )}\n\n            {postsByDate.map((post) =>\n              profile.username === post.username ? <Post key={post.username} post={post} /> : \"\"\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Button, Icon, Popup } from \"semantic-ui-react\";\nimport { Profile } from \"../../../app/layout/models/profile\";\nimport { useStore } from \"../../../app/stores/store\";\ninterface Props {\n  profile: Profile;\n}\nexport default observer(function ProfileFollowCard({ profile }: Props) {\n  const {\n    userStore: { user },\n    profileStore: { updateFollowing },\n  } = useStore();\n\n  function handleFollow(username: string) {\n    profile.following ? updateFollowing(username, false) : updateFollowing(username, true);\n    console.log(profile.following);\n  }\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <div className=\"d-flex align-items-center\">\n            <div className=\"square__avatar\">\n              <img\n                style={{ width: \"80px\", borderRadius: 10, marginRight: 20 }}\n                src={profile.image || \"/assets/user.png\"}\n                alt=\"\"\n              />\n            </div>\n            <div className=\"detail__profile ml-4\">\n              <div className=\"name\">\n                <a className=\"link__underscore__black\" href={`/profiles/${profile.username}`}>\n                  <h5>{profile.displayName}</h5>\n                </a>\n              </div>\n              <div className=\"mutual__friends text-muted\">200 bạn chung</div>\n            </div>\n          </div>\n          <Popup\n            position=\"bottom left\"\n            trigger={\n              <Button\n                color=\"black\"\n                className=\"btn__options_comment\"\n                icon\n                style={{ marginLeft: 10, textAlign: \"center\" }}\n              >\n                <i className=\"fas fa-ellipsis-h\"></i>\n              </Button>\n            }\n            on=\"click\"\n          >\n            {profile.username !== user?.username ? (\n              <Button\n                type=\"button\"\n                className=\"btn btn-link text-reset fs-6 rounded-4 mx-1 img__mainphoto\"\n                data-mdb-ripple-color=\"dark\"\n                // name={\"main\" + photo.id}\n                onClick={() => handleFollow(profile.username)}\n              >\n                <Icon circular name=\"user plus\" /> {profile.following ? \"Đã theo dõi\" : \"Theo dõi\"}\n              </Button>\n            ) : (\n              \"\"\n            )}\n\n            <Button\n              type=\"button\"\n              className=\"btn btn-link text-reset fs-6 rounded-4 mx-1 img__delete\"\n              data-mdb-ripple-color=\"dark\"\n              // disabled={photo.isMain}\n              // name={photo.id}\n              // loading={target === photo.id && loading}\n              // onClick={(e) => handleDeletePhoto(photo, e)}\n            >\n              <i className=\"fas fa-user-times\" style={{ marginRight: 10 }}></i>{\" \"}\n              {profile.username === user?.username ? \"Đây là bạn\" : \"Huỷ kết bạn\"}\n            </Button>\n          </Popup>\n          {/* <button className=\"btn btn__options_comment mb-3\" style={{ marginLeft: 10, textAlign: \"center\" }}>\n            <i className=\"fas fa-ellipsis-h\" style={{ marginLeft: -4 }}></i>\n          </button> */}\n        </div>\n      </div>\n    </div>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Tab } from \"semantic-ui-react\";\nimport { useStore } from \"../../../app/stores/store\";\nimport ProfileFollowCard from \"./ProfileFollowCard\";\n\nexport default observer(function ProfileFollowList() {\n  const {\n    profileStore: { loadingFollowing, followings },\n  } = useStore();\n\n  return (\n    <Tab.Pane loading={loadingFollowing}>\n      <div className=\"container\">\n        <div className=\"row g-2\">\n          {followings.map((profile) => (\n            <div className=\"col-6\" key={profile.username}>\n              <ProfileFollowCard profile={profile} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </Tab.Pane>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Tab } from \"semantic-ui-react\";\nimport { Profile } from \"../../app/layout/models/profile\";\nimport { useStore } from \"../../app/stores/store\";\nimport ProfileFollowList from \"./Follow/ProfileFollowList\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function FollowList({ profile }: Props) {\n  const { profileStore } = useStore();\n  const panes = [\n    {\n      menuItem: \"Bạn chung\",\n      render: () => (\n        <Tab.Pane attached={false}>\n          <ProfileFollowList />\n        </Tab.Pane>\n      ),\n    },\n    {\n      menuItem: \"Đang theo dõi\",\n      render: () => (\n        <Tab.Pane attached={false}>\n          <ProfileFollowList />\n        </Tab.Pane>\n      ),\n    },\n    {\n      menuItem: \"Người theo dõi\",\n      render: () => (\n        <Tab.Pane attached={false}>\n          <ProfileFollowList />\n        </Tab.Pane>\n      ),\n    },\n  ];\n  return (\n    <div>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"card rounded-6\">\n            <div className=\"card-body\" style={{ minHeight: 500 }}>\n              <div className=\"d-flex justify-content-between\">\n                <h5 className=\"card-title fs-4\">\n                  <strong>Bạn bè</strong>\n                </h5>\n                <input className=\"search__follow\" style={{ width: 280 }} type=\"text\" placeholder={`Tìm kiếm`} />\n              </div>\n              <Tab\n                menu={{ fluid: true, secondary: true }}\n                menuPosition=\"right\"\n                panes={panes}\n                onTabChange={(e, data) => {\n                  profileStore.setActiveTab(data.activeIndex);\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import React, { useEffect, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport ProfileHeader from \"./ProfileHeader\";\nimport \"./ProfileStyle.css\";\nimport \"mdb-react-ui-kit/dist/css/mdb.min.css\";\nimport ProfileMain from \"./ProfileMain\";\nimport { useParams } from \"react-router\";\nimport { useStore } from \"../../app/stores/store\";\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport FollowTab from \"./FollowTab\";\nimport LoadingComponent from \"../../app/layout/LoadingComponent\";\nimport { Container } from \"semantic-ui-react\";\n\nexport default observer(function ProfilePage() {\n  const { username } = useParams<{ username: string }>();\n\n  const {\n    profileStore: { loadProfile, profile, loadingProfile, setActiveTab },\n    postStore: { loadPosts, postRegistry },\n  } = useStore();\n\n  const [button, setButton] = useState(\"\");\n\n  let { path, url } = useRouteMatch();\n\n  console.log(path, \" \", url);\n\n  function changeButton(name: string) {\n    setButton(name);\n  }\n\n  useEffect(() => {\n    loadProfile(username);\n    if (postRegistry.size <= 1) loadPosts();\n    return () => {\n      setActiveTab(0);\n    };\n  }, [loadProfile, setActiveTab, username, loadPosts, postRegistry]);\n  if (loadingProfile) return <LoadingComponent content=\"Loading...\" />;\n  return (\n    <Container>\n      <main className=\"bg-light\" style={{ width: \"\" }}>\n        {/* Section: white background */}\n        <section className=\"bg-white mb-4 shadow-2\">\n          {profile && <ProfileHeader button={button} setButton={changeButton} profile={profile} />}\n        </section>\n        {/* Section: grey background */}\n        <Switch>\n          <Route exact path={path}>\n            <section style={{ backgroundColor: \"#f0f2f5\" }}>\n              {profile && <ProfileMain button={button} profile={profile} />}\n            </section>\n          </Route>\n          <Route path={`${path}/friends`}>\n            <FollowTab profile={profile!} />\n          </Route>\n        </Switch>\n      </main>\n    </Container>\n  );\n});\n","import React, { useCallback } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\n\ninterface Props {\n  setFiles: (files: any) => void;\n  className?: any;\n}\nexport default function ImageDropzone({ setFiles, className }: Props) {\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      // Callback chỉ làm việc khi dependency thay đổi cụ thể là setFiles()\n      setFiles(acceptedFiles);\n    },\n    [setFiles]\n  );\n  const { getRootProps, getInputProps } = useDropzone({ onDrop });\n\n  return (\n    <div {...getRootProps()} className={className}>\n      <input {...getInputProps()} />\n      <i className=\"far fa-images\" style={{ color: \"green\", fontSize: 30, marginLeft: 8, marginTop: 9 }}></i>\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/anchor-has-content */\nimport { Formik, Form } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Dropdown, Header } from \"semantic-ui-react\";\nimport { PostFormValues } from \"../../app/layout/models/post\";\nimport { useStore } from \"../../app/stores/store\";\nimport \"./formpost.css\";\nimport { v4 as uuid } from \"uuid\";\nimport MyTextArea from \"../../app/common/form/MyTextArea\";\nimport ImageDropzone from \"./ImageDropzone\";\n\nexport default observer(function FormPost() {\n  const { postStore, userStore } = useStore();\n  const [files, setFiles] = useState<any>([]);\n\n  function handleFormSubmit(post: PostFormValues) {\n    let newPost = {\n      ...post,\n      id: uuid(),\n    };\n    postStore.createPost(newPost).then((post) => {\n      console.log(post);\n    });\n  }\n  useEffect(() => {\n    files.forEach((file: any) => {\n      console.log(URL.createObjectURL(file));\n    });\n  }, [files]);\n  return (\n    <Formik\n      initialValues={{ image: files[0], caption: \"\", error: null }}\n      enableReinitialize\n      onSubmit={(values) => {\n        handleFormSubmit(values);\n        console.log(values);\n      }}\n    >\n      {({ handleSubmit, isSubmitting, isValid, dirty }) => (\n        <Form className=\"form__post\" onSubmit={handleSubmit} autoComplete=\"off\">\n          <Header content=\"Tạo bài viết\" as=\"h3\" textAlign=\"center\" />\n          <hr></hr>\n          {/* div name, avatar */}\n          <div className=\"d-flex justify-content-left\">\n            <img\n              src={userStore.user?.image || \"/assets/user.png\"}\n              alt=\"avatar\"\n              style={{ width: 50, borderRadius: 999 }}\n            />\n            <div className=\"name\" style={{ marginLeft: 15 }}>\n              <a href={`/profiles/${userStore.user?.username}`} style={{ color: \"black\" }}>\n                <h5>{userStore.user?.displayName}</h5>\n              </a>\n              <div>\n                <Dropdown pointing=\"top left\" text=\"Công khai\">\n                  <Dropdown.Menu>\n                    <Dropdown.Item as={Link} to={`/profiles/${userStore.user?.username}`} text=\"Profile\" icon=\"user\" />\n                  </Dropdown.Menu>\n                </Dropdown>\n              </div>\n            </div>\n          </div>\n          {/* div textarea */}\n          <div className=\"input__status\" style={{ maxHeight: 400 }}>\n            {/* <textarea name=\"caption\" placeholder=\"Nhap zo\" rows={2}></textarea> */}\n            <MyTextArea\n              className={\"status__text\"}\n              cols={32}\n              name=\"caption\"\n              rows={5}\n              placeholder=\"Tùng ơi, bạn đang nghĩ gì thế?\"\n            />\n          </div>\n          {/* div button */}\n          <div className=\"div__add__image d-flex justify-content-between fs-5 align-items-center mt-2\">\n            <div className=\"add__more\">Thêm vào bài viết</div>\n            <div className=\"d-flex\">\n              <ImageDropzone setFiles={setFiles} className={\"btn__options_add__image\"} />\n            </div>\n          </div>\n          <div className=\"button__submit\">\n            {/* <button disabled={{ isSubmitting, isValid }} type=\"submit\" className=\"d-block w-100 mt-3\">\n              Đăng\n            </button> */}\n            <Button\n              loading={isSubmitting || !isValid}\n              content=\"Đăng\"\n              type=\"submit\"\n              color=\"facebook\"\n              className=\"d-block w-100 mt-3\"\n            />\n          </div>\n          {/* <MyTextInput name=\"email\" placeholder=\"Email\" />\n          <MyTextInput name=\"password\" placeholder=\"Password\" type=\"password\" />\n          <ErrorMessage\n            name=\"error\"\n            render={() => <Label style={{ marginBottom: 10 }} basic color=\"red\" content={errors.error} />}\n          />\n         */}\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useStore } from \"../../app/stores/store\";\nimport FormPost from \"../posts/FormPost\";\nimport Post from \"../posts/Post\";\nexport default observer(function Center() {\n  const {\n    postStore: { postsByDate },\n    userStore: { user },\n  } = useStore();\n  const { modalStore } = useStore();\n  return (\n    <div className=\"center__content\" style={{ paddingLeft: 50, paddingRight: 50 }}>\n      <div>\n        <div className=\"stories d-flex w-auto\">\n          <div\n            className=\"story\"\n            style={{\n              backgroundImage: \"url(/assets/user.png)\",\n              width: 112,\n              height: 200,\n              margin: 5,\n              borderRadius: 10,\n              backgroundSize: \"100% 100%\",\n            }}\n          >\n            <img\n              style={{ height: 50, borderRadius: 999, marginLeft: 10, marginTop: 10 }}\n              className=\"avatar\"\n              src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n              alt=\"\"\n            />\n          </div>\n          <div\n            className=\"story\"\n            style={{\n              backgroundImage: \"url(/assets/user.png)\",\n              width: 112,\n              height: 200,\n              margin: 5,\n              borderRadius: 10,\n              backgroundSize: \"100% 100%\",\n            }}\n          >\n            <img\n              style={{ height: 50, borderRadius: 999, marginLeft: 10, marginTop: 10 }}\n              className=\"avatar\"\n              src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n              alt=\"\"\n            />\n          </div>\n          <div\n            className=\"story\"\n            style={{\n              backgroundImage: \"url(/assets/user.png)\",\n              width: 112,\n              height: 200,\n              margin: 5,\n              borderRadius: 10,\n              backgroundSize: \"100% 100%\",\n            }}\n          >\n            <img\n              style={{ height: 50, borderRadius: 999, marginLeft: 10, marginTop: 10 }}\n              className=\"avatar\"\n              src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n              alt=\"\"\n            />\n          </div>\n          <div\n            className=\"story\"\n            style={{\n              backgroundImage: \"url(/assets/user.png)\",\n              width: 112,\n              height: 200,\n              margin: 5,\n              borderRadius: 10,\n              backgroundSize: \"100% 100%\",\n            }}\n          >\n            <img\n              style={{ height: 50, borderRadius: 999, marginLeft: 10, marginTop: 10 }}\n              className=\"avatar\"\n              src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n              alt=\"\"\n            />\n          </div>\n          <div\n            className=\"story\"\n            style={{\n              backgroundImage: \"url(/assets/user.png)\",\n              width: 112,\n              height: 200,\n              margin: 5,\n              borderRadius: 10,\n              backgroundSize: \"100% 100%\",\n            }}\n          >\n            <img\n              style={{ height: 50, borderRadius: 999, marginLeft: 10, marginTop: 10 }}\n              className=\"avatar\"\n              src=\"https://res.cloudinary.com/images-store/image/upload/v1622545740/idutyugjcvywsz7qstv6.jpg\"\n              alt=\"\"\n            />\n          </div>\n        </div>\n        <div className=\"card w-100 rounded-6\">\n          <div className=\"card-body\">\n            <div className=\"d-flex\">\n              <a href={`/profiles/${user?.username}`}>\n                <img\n                  src={user?.image || \"/assets/user.png\"}\n                  alt=\"\"\n                  style={{ height: \"50px\" }}\n                  className=\"rounded-circle border mr-2\"\n                />\n              </a>\n              <button\n                onClick={() => modalStore.openModal(<FormPost />)}\n                style={{ marginLeft: 20, background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"start\" }}\n                className=\"btn btn-block btn-rounded fs-5 text-muted\"\n              >\n                <p>Bạn đang nghĩ gì?</p>\n              </button>\n            </div>\n            <hr />\n            <div className=\"d-flex justify-content-between\">\n              <button\n                className=\"btn btn-light rounded-3 fs-5 btn-mind\"\n                style={{ background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"start\", color: \"GrayText\" }}\n              >\n                <i className=\"fas fa-video\" style={{ color: \"red\" }}></i>\n                <p style={{ marginLeft: \"10px\" }} className=\"d-inline-block\">\n                  Video trực tiếp\n                </p>\n              </button>\n              <button\n                className=\"btn btn-light rounded-3 fs-5 btn-mind\"\n                style={{ background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"start\", color: \"GrayText\" }}\n              >\n                <i className=\"fas fa-photo-video\" style={{ color: \"green\" }}></i>\n                <p style={{ marginLeft: \"10px\" }} className=\"d-inline-block\">\n                  Ảnh/Video\n                </p>\n              </button>\n              <button\n                className=\"btn btn-light rounded-3 fs-5 btn-mind\"\n                style={{ background: \"#f0f2f5\", textTransform: \"none\", textAlign: \"start\", color: \"GrayText\" }}\n              >\n                <i className=\"fab fa-font-awesome-flag\" style={{ color: \"#45b0d5\" }}></i>\n                <p style={{ marginLeft: \"10px\" }} className=\"d-inline-block\">\n                  Sự kiện trong đời\n                </p>\n              </button>\n            </div>\n          </div>\n        </div>\n        {postsByDate.map((post) => (\n          <Post key={post.id} post={post} />\n        ))}\n      </div>\n    </div>\n  );\n});\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nexport default observer(function LeftSide() {\n  return (\n    <div className=\"left__content\">\n      <div style={{ marginLeft: 10 }}>\n        <div className=\"nav__left__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y8/r/S0U5ECzYUSu.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Bạn bè </div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/PrjLkDYpYbH.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Nhóm </div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/duk32h44Y31.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Watch</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/yH/r/kyCAf2jbZvF.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trang</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/yo/r/DO-SN-shaZL.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Bạn bè</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/4Y9Xi2D3hJv.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Messenger</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/4Y9Xi2D3hJv.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Messenger</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/4Y9Xi2D3hJv.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Messenger</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/4Y9Xi2D3hJv.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Messenger</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/4Y9Xi2D3hJv.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Messenger</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/4Y9Xi2D3hJv.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Messenger</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/4Y9Xi2D3hJv.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Messenger</div>\n        </div>\n        <div className=\"nav__left__item\">\n          <img src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/4Y9Xi2D3hJv.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Messenger</div>\n        </div>\n      </div>\n    </div>\n  );\n});\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nexport default observer(function RightSide() {\n  return (\n    <div className=\"right__content\">\n      <div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n        <div className=\"nav__right__item\">\n          <img src=\"/assets/user.png\" alt=\"avatar\" />\n          <div className=\"content__item\">Trần Thanh Tùng </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { observer } from \"mobx-react-lite\";\nimport React, { useEffect } from \"react\";\nimport LoadingComponent from \"../../app/layout/LoadingComponent\";\nimport { useStore } from \"../../app/stores/store\";\nimport Center from \"./Center\";\nimport LeftSide from \"./LeftSide\";\nimport RightSide from \"./RightSide\";\nimport \"/Users/tranthanhtung/Desktop/Reactivities/client-app/src/feature/Facebook/sty.css\";\nexport default observer(function Home() {\n  const {\n    postStore: { postRegistry, loadPosts, loadingInitial },\n  } = useStore();\n  useEffect(() => {\n    if (postRegistry.size <= 1) loadPosts();\n  }, [postRegistry.size, loadPosts]);\n  if (loadingInitial) return <LoadingComponent content=\"Loading...\" />;\n  return (\n    <div className=\"\">\n      <div className=\"d-flex justify-content-between\">\n        <LeftSide />\n        <Center />\n        <RightSide />\n      </div>\n    </div>\n  );\n});\n","import React from \"react\";\nimport { Redirect, Route, RouteComponentProps, RouteProps } from \"react-router\";\nimport { useStore } from \"../stores/store\";\ninterface Props extends RouteProps {\n  component: React.ComponentType<RouteComponentProps<any>> | React.ComponentType<any>;\n}\n\nexport default function PrivateRoute({ component: Component, ...rest }: Props) {\n  const {\n    userStore: { IsLoggedIn },\n  } = useStore();\n  return <Route {...rest} render={(props) => (IsLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />)} />;\n}\n","import React, { useEffect } from \"react\";\nimport NavBar from \"./NavBar\";\nimport ActivityDashboard from \"../../feature/activities/dashboard/ActivityDashboard\";\nimport { observer } from \"mobx-react-lite\";\nimport { Route, Switch, useLocation } from \"react-router\";\nimport HomePage from \"../../feature/home/HomePage\";\nimport ActivityForm from \"../../feature/activities/form/ActivityForm\";\nimport ActivityDetails from \"../../feature/activities/details/ActivityDetails\";\nimport { ToastContainer } from \"react-toastify\";\nimport TestErrors from \"../../feature/errors/TestError\";\nimport NotFound from \"../../feature/errors/NotFound\";\nimport ServerErrors from \"../../feature/errors/ServerErrors\";\nimport LoginForm from \"../../feature/users/LoginForm\";\nimport { useStore } from \"../stores/store\";\nimport LoadingComponent from \"./LoadingComponent\";\nimport ModalContainer from \"../common/modals/ModalContainer\";\nimport ProfilePage from \"../../feature/profiles/ProfilePage\";\nimport Home from \"../../feature/Facebook/Home\";\nimport PrivateRoute from \"./PrivateRoute\";\n\nfunction App() {\n  const locaction = useLocation();\n  const { commonStore, userStore } = useStore();\n\n  useEffect(() => {\n    if (commonStore.token) {\n      userStore.getUser().finally(() => commonStore.setApploaded());\n    } else {\n      commonStore.setApploaded();\n    }\n  }, [commonStore, userStore]);\n\n  if (!commonStore.appLoaded) return <LoadingComponent content=\"Loading...\" />;\n\n  return (\n    <>\n      <ToastContainer position=\"bottom-right\" hideProgressBar />\n      <ModalContainer />\n      <Route exact path={\"/\"} component={HomePage} />\n      <Route\n        path={\"/(.+)\"}\n        render={() => (\n          <>\n            <NavBar />\n            <div style={{ marginTop: \"7em\" }}>\n              <Switch>\n                <Route path={\"/errors\"} component={TestErrors} />\n                {/* <Route exact path={\"/activities\"} component={ActivityDashboard} /> */}\n                <PrivateRoute path={\"/activities/:id\"} component={ActivityDetails} />\n                <PrivateRoute key={locaction.key} path={[\"/createActivity\", \"/manage/:id\"]} component={ActivityForm} />\n                <PrivateRoute path={\"/server-error\"} component={ServerErrors} />\n                <PrivateRoute path={\"/login\"} component={LoginForm} />\n                <PrivateRoute path={\"/profiles/:username\"} component={ProfilePage} />\n                <PrivateRoute path={\"/home\"} component={Home} />\n                <Route component={NotFound} />\n              </Switch>\n            </div>\n          </>\n        )}\n      />\n    </>\n  );\n}\n\nexport default observer(App);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./app/layout/style.css\";\nimport App from \"./app/layout/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { store, StoreContext } from \"./app/stores/store\";\nimport { Router } from \"react-router-dom\";\nimport \"react-calendar/dist/Calendar.css\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport { createBrowserHistory } from \"history\";\nimport \"@fortawesome/fontawesome-free/js/all.js\";\nimport ScrollToTop from \"./app/layout/ScrollToTop\";\n\nexport const history = createBrowserHistory();\n\nReactDOM.render(\n  <StoreContext.Provider value={store}>\n    <Router history={history}>\n      <ScrollToTop />\n      <App />\n    </Router>\n  </StoreContext.Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}